function xCopyToClipBoard(){let e=function(e){let t,o=!1;e.querySelectorAll(".brxe-xcopytoclipboard").forEach(e=>{let r=e.getAttribute("data-x-copy-to-clipboard"),a=r?JSON.parse(r):{},c=document.body,l=null!=a.buttonDelay?a.buttonDelay:3e3;if(null!=a.isLooping){let i=a.isLooping;c=e.closest(".brxe-"+i)}if(e.querySelector("[data-x-copied]")&&(o=!0,e.querySelector("[data-x-copied]").setAttribute("data-x-copy",e.querySelector("[data-x-copied]").innerHTML)),e.hasAttribute("data-x-copy-text"))t=e.getAttribute("data-x-copy-text");else{let d=!!a.copySelector&&c.querySelector(a.copySelector);if(!d&&!document.querySelector(".brx-body.iframe")){console.log("BricksExtras: Element to copy not found, check the selector is correct."),e.dispatchEvent(new Event("x_copy:failed"));return}document.querySelector(".brx-body.iframe")||(t="TEXTAREA"==d.tagName?d.value:"INPUT"==d.tagName?d.value:d.textContent)}t&&a.hideEmpty&&(e.style.display="block"),e.querySelector("button").addEventListener("click",r=>{if(r.preventDefault(),document.querySelector(".brx-body.iframe")&&(e.querySelector("button").setAttribute("aria-pressed","true"),e.querySelector("button").classList.add("x-copy-to-clipboard_copied")),e.hasAttribute("data-x-copy-text"))t=e.getAttribute("data-x-copy-text");else{let i=!!a.copySelector&&c.querySelector(a.copySelector);if(!i&&!document.querySelector(".brx-body.iframe")){console.log("BricksExtras: Element to copy not found, check the selector is correct."),e.dispatchEvent(new Event("x_copy:failed"));return}document.querySelector(".brx-body.iframe")||(t="TEXTAREA"==i.tagName?i.value:"INPUT"==i.tagName?i.value:i.textContent)}let d=document.createElement("textarea");d.value=t,d.select(),d.setSelectionRange(0,99999),navigator.clipboard.writeText(t).then(()=>{t?(e.querySelector("button").setAttribute("aria-pressed","true"),e.querySelector("button").classList.add("x-copy-to-clipboard_copied"),e.dispatchEvent(new Event("x_copy:copied")),o&&e.querySelector("[data-x-copied]")&&(e.querySelector("[data-x-copied]").innerHTML=e.querySelector("[data-x-copied]").getAttribute("data-x-copied")),a.selectText&&window.getSelection().selectAllChildren(c.querySelector(a.copySelector))):(e.dispatchEvent(new Event("x_copy:empty")),console.log("BricksExtras: Copy text empty"))},()=>{e.dispatchEvent(new Event("x_copy:failed")),console.log("BricksExtras: Copy failed")}),setTimeout(()=>{e.querySelector("button").setAttribute("aria-pressed","false"),e.querySelector("button").classList.remove("x-copy-to-clipboard_copied"),e.dispatchEvent(new Event("x_copy:reset")),o&&e.querySelector("[data-x-copied]")&&(e.querySelector("[data-x-copied]").innerHTML=e.querySelector("[data-x-copy]").getAttribute("data-x-copy"))},l)})})};function t(t){if(void 0===t.detail.queryId){if(void 0===t.detail.popupElement)return;e(t.detail.popupElement)}setTimeout(()=>{document.querySelector(".brxe-"+t.detail.queryId)&&e(document.querySelector(".brxe-"+t.detail.queryId).parentElement)},0)}e(document),document.addEventListener("bricks/ajax/load_page/completed",t),document.addEventListener("bricks/ajax/pagination/completed",t),document.addEventListener("bricks/ajax/popup/loaded",t),document.addEventListener("bricks/ajax/end",t),window.doExtrasCopyToClipBoard=e}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xCopyToClipBoard()});
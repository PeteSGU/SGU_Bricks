function xProAlert(e,t){if(document.querySelector("body > .brx-body.iframe"))return;let r=".brxe-xproalert[data-x-id='"+e.getAttribute("data-x-id")+"']",a;a=e.getAttribute("data-x-id"),e.querySelector(".x-alert_close").addEventListener("click",()=>{xCloseAlert(r)});let i=new Date().getTime(),l=!!localStorage&&!!localStorage["x-"+a+"-last-shown-time"]&&JSON.parse(localStorage["x-"+a+"-last-shown-time"]),d=!!localStorage&&!!localStorage["x-"+a+"-dismissed"];switch(t.show_again.type){case"never":if(!1!==l)return;break;case"manual":return;case"dismiss":if(!1!==d)return;break;case"after":var o=parseInt(t.show_again.options.days),n=parseInt(t.show_again.options.hours);if((i-l)/864e5<o+n/24)return}xShowAlert(r),localStorage&&(localStorage["x-"+a+"-last-shown-time"]=JSON.stringify(i))}function xCloseAlert(e){document.querySelector(e).style.display="none",document.querySelector(e).dispatchEvent(new Event("x_alert:close"));let t;document.querySelector(e).getAttribute("data-x-id")&&(t=document.querySelector(e).getAttribute("data-x-id")),localStorage["x-"+t+"-dismissed"]="true"}function xShowAlert(e){document.querySelector(e).style.display="flex",document.querySelector(e).dispatchEvent(new Event("x_alert:show"))}function xProAlertConfig(e,t={}){let r=e.getAttribute("data-x-alert"),a=r?JSON.parse(r):{};return a}document.addEventListener("DOMContentLoaded",function(e){if(!bricksIsFrontend||document.querySelector("body > .brx-body.iframe"))return;let t=function(e){bricksQuerySelectorAll(e,".brxe-xproalert").forEach(e=>{xProAlert(e,xProAlertConfig(e))})};function r(e){void 0===e.detail.queryId?void 0!==e.detail.popupElement&&t(e.detail.popupElement):setTimeout(()=>{let r=document.querySelector(".brxe-"+e.detail.queryId);r&&r.querySelector(".brxe-xproalert")&&t(document.querySelector(".brxe-"+e.detail.queryId).parentElement)},50)}window.xCloseAlert=xCloseAlert,window.xShowAlert=xShowAlert,t(document),document.addEventListener("bricks/ajax/load_page/completed",r),document.addEventListener("bricks/ajax/pagination/completed",r),document.addEventListener("bricks/ajax/popup/loaded",r),document.addEventListener("bricks/ajax/end",r),window.doExtrasProAlert=t,"undefined"!=typeof bricksextras&&(bricksextras.alert={show(e){let t=e?.target||!1;t&&t.hasAttribute("data-x-id")&&xShowAlert('.brxe-xproalert[data-x-id="'+t.getAttribute("data-x-id")+'"]')},hide(e){let t=e?.target||!1;t&&t.hasAttribute("data-x-id")&&xCloseAlert('.brxe-xproalert[data-x-id="'+t.getAttribute("data-x-id")+'"]')},toggle(e){let t=e?.target||!1;t&&t.hasAttribute("data-x-id")&&("none"===t.style.display?xShowAlert('.brxe-xproalert[data-x-id="'+t.getAttribute("data-x-id")+'"]'):xCloseAlert('.brxe-xproalert[data-x-id="'+t.getAttribute("data-x-id")+'"]'))}})});
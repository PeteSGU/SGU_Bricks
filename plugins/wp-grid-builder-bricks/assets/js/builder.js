/*!
* WP Grid Builder Bricks Add-on
*
* @package   WP Grid Builder - Bricks
* @author    Loïc Blascos
* @link      https://www.wpgridbuilder.com
* @copyright 2019-2025 Loïc Blascos
*
*/
(()=>{var e={574:()=>{[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("after")||Object.defineProperty(e,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(){const e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){const n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.parentNode.insertBefore(t,this.nextSibling)}})}))},854:()=>{[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){const e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){const n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.appendChild(t)}})}))},445:()=>{[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("before")||Object.defineProperty(e,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){const e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){const n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.parentNode.insertBefore(t,this)}})}))},327:()=>{Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},756:function(e,t,n){(function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,o=-1,s="",i=n.charCodeAt(0);++o<r;)0!=(t=n.charCodeAt(o))?s+=t>=1&&t<=31||127==t||0==o&&t>=48&&t<=57||1==o&&t>=48&&t<=57&&45==i?"\\"+t.toString(16)+" ":0==o&&1==r&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(o):n.charAt(o):s+="�";return s};e.CSS||(e.CSS={}),e.CSS.escape=t})(void 0!==n.g?n.g:this)},629:()=>{Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector)},6:()=>{window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},850:()=>{[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}))},975:()=>{String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=t>0?0|t:0;return this.substring(n,n+e.length)===e}})},152:(e,t,n)=>{e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r=n(1),o="function"==typeof importScripts;e.exports=r(o?self:window)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=[];function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var i=o.reduce((function(e,t){return[t].concat(e)}),[]),a=Promise.resolve(n);return i.forEach((function(e){var t=e.request,n=e.requestError;(t||n)&&(a=a.then((function(e){return t.apply(void 0,r(e))}),n))})),a=a.then((function(t){var n=new(Function.prototype.bind.apply(Request,[null].concat(r(t))));return e(n).then((function(e){return e.request=n,e})).catch((function(e){return e.request=n,Promise.reject(e)}))})),i.forEach((function(e){var t=e.response,n=e.responseError;(t||n)&&(a=a.then(t,n))})),a}e.exports=function(e){if(!e.fetch)try{n(2)}catch(e){throw Error("No fetch available. Unable to register fetch-intercept")}var t;return e.fetch=(t=e.fetch,function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return s.apply(void 0,[t].concat(n))}),{register:function(e){return o.push(e),function(){var t=o.indexOf(e);t>=0&&o.splice(t,1)}},clear:function(){o=[]}}}},function(e,t){e.exports=n(624)}])},624:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DOMException:()=>E,Headers:()=>d,Request:()=>y,Response:()=>w,fetch:()=>S});var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},o={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(o.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function u(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o.arrayBuffer&&o.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,o,s=p(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=u(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=r?r[1]:"utf-8",t.readAsText(e,o),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=a(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[a(e)]},d.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},d.prototype.set=function(e,t){this.map[a(e)]=c(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},o.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,s=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),b.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var v=[301,302,303,307,308];w.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var E=r.DOMException;try{new E}catch(e){(E=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function S(e,t){return new Promise((function(n,s){var i=new y(e,t);if(i.signal&&i.signal.aborted)return s(new E("Aborted","AbortError"));var l=new XMLHttpRequest;function p(){l.abort()}if(l.onload=function(){var e,t,r={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();try{t.append(r,o)}catch(e){console.warn("Response "+e.message)}}})),t)};0===i.url.indexOf("file://")&&(l.status<200||l.status>599)?r.status=200:r.status=l.status,r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var o="response"in l?l.response:l.responseText;setTimeout((function(){n(new w(o,r))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){s(new E("Aborted","AbortError"))}),0)},l.open(i.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?l.withCredentials=!0:"omit"===i.credentials&&(l.withCredentials=!1),"responseType"in l&&(o.blob?l.responseType="blob":o.arrayBuffer&&(l.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof d||r.Headers&&t.headers instanceof r.Headers)){var u=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){u.push(a(e)),l.setRequestHeader(e,c(t.headers[e]))})),i.headers.forEach((function(e,t){-1===u.indexOf(t)&&l.setRequestHeader(t,e)}))}else i.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));i.signal&&(i.signal.addEventListener("abort",p),l.onreadystatechange=function(){4===l.readyState&&i.signal.removeEventListener("abort",p)}),l.send(void 0===i._bodyInit?null:i._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=d,r.Request=y,r.Response=w)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";n(574),n(445),n(854),n(850),n(629),n(327),n(6),n(756),n(975);const e=document.createRange(),t=()=>e.createContextualFragment('<div class="wpgb-svg-icons" hidden="">\n\t\t<svg viewBox="0 0 120 24" width="0" height="0">\n\t\t\t<defs>\n\t\t\t\t<polygon id="wpgb-star-svg" points="12 2.5 15.1 8.8 22 9.8 17 14.6 18.2 21.5 12 18.3 5.8 21.5 7 14.6 2 9.8 8.9 8.8"></polygon>\n\t\t\t</defs>\n\t\t\t<symbol id="wpgb-rating-stars-svg">\n\t\t\t\t<use xlink:href="#wpgb-star-svg"></use>\n\t\t\t\t<use xlink:href="#wpgb-star-svg" x="24"></use>\n\t\t\t\t<use xlink:href="#wpgb-star-svg" x="48"></use>\n\t\t\t\t<use xlink:href="#wpgb-star-svg" x="72"></use>\n\t\t\t\t<use xlink:href="#wpgb-star-svg" x="96"></use>\n\t\t\t</symbol>\n\t\t</svg>\n\t</div>').cloneNode(!0),r=[];let o,s=!1,i=[];function a(e){return Promise.all(e.map((e=>function(e){return new Promise(((t,n)=>{const r="css"===e.type,o=document.createElement(r?"link":"script");e.version&&(e.source+=`?v=${e.version}`),o.onload=t,o.onerror=n,r?(o.rel="stylesheet",o.id=`${e.handle}-css`,o.href=e.source):o.src=e.source,document.head.appendChild(o)}))}(e))))}i=function(){const{frontScripts:e,frontStyles:t}=wpgb_settings;return[...t.filter((e=>"wpgb-grids"!==e.handle)).map((e=>({...e,type:"css"}))),...e.map((e=>({...e,type:"js"})))]}().filter((e=>{if(!e.handle.startsWith("wpgb-"))return!0;const t="wpgb-fonts"===e.handle,n="css"===e.type&&"wpgb-facets"===e.handle,o="css"===e.type&&"wpgb-lightbox"===e.handle;return!t&&!n&&!o&&r.push(e),!1}));const c=document.createRange(),l=`<div class="wpgb-element-placeholder">\n\t\t<div class="wpgb-element-header">\n\t\t\t<div class="wpgb-loading-spinner"></div>\n\t\t\t<div class="wpgb-element-label">${wpgb_settings.loadingContent}</div>\n\t\t</div>\n\t</div>`;let d=p();function p(){return[...document.querySelector(".brx-body")?.__vue_app__?.config?.globalProperties?.$_state?.header||[],...document.querySelector(".brx-body")?.__vue_app__?.config?.globalProperties?.$_state?.content||[],...document.querySelector(".brx-body")?.__vue_app__?.config?.globalProperties?.$_state?.footer||[]]}function u(){const{providers:e}=wpgb_settings,t=[];return p().forEach((n=>{n.name&&n.id&&e.includes(n.name)&&("container"!==n.name&&"block"!==n.name&&"div"!==n.name||n.settings&&n.settings.hasLoop)&&document.querySelector(`.brxe-${n.name}`)&&(t[n.id]={...n})})),d=t,t}function h(e){const t=u();return!!t[e]&&[t[e],...f(t[e])]}function f(e){const t=[];return e.children?(p().forEach((n=>{e.children.includes(n.id)&&t.push(n)})),t):t}function m(e){d=d.filter((t=>t.id!==e.id)),d.push(e)}let b=!1;function y(){const e=function(){if("object"==typeof b)return b;const e=window?.bricksData?.elements?.["wpgb-facet"]?.controls?.grid?.options;return"object"==typeof e&&(b={...e},b)}(),t=u(),n=(wpgb_settings.templates||[]).reduce(((e,t)=>({...e,[t]:t})),{});if("object"!=typeof e)return;const r={};for(const t in e)r[t]=e[t];for(const e in n)r[e]=n[e];for(const e in t)r[`bricks-element-${e}`]=`Bricks - ${t[e].label||t[e].name} (#${t[e]?.settings?._cssId||t[e].id})`;const o=window.parent?.bricksData?.elements?.["wpgb-facet"]?.controls?.grid?.options;"object"==typeof o&&(window.parent.bricksData.elements["wpgb-facet"].controls.grid.options=r)}var g=n(152);let w=!1;function v(){setTimeout((()=>{requestAnimationFrame((()=>{const e=document.querySelectorAll(".wp-grid-builder, .wpgb-facet"),n=[];e.forEach((e=>{e.classList.contains("wpgb-facet")&&e.closest(".wp-grid-builder")||(!e._wpgb_loaded&&n.push(e),e._wpgb_loaded=!0)})),n.forEach((e=>{!w&&document.body.append(t()),w=!0,(s?Promise.resolve():o||(document.querySelector("head link#wpgb-style-css")?(s=!0,o=Promise.resolve(),o):(o=Promise.resolve().then((()=>a(r))).then((()=>a(i))).then((()=>s=!0)),o))).then((()=>{const t=e.classList.contains("wpgb-facet")?"facet":"grid";window.dispatchEvent(new CustomEvent(`wpgb.${t}.loaded`,{detail:e}))}),(()=>console.error("WP Grid Builder assets failed to load.")))}))}))}))}function E(e){if(!e)return;const t=document.querySelectorAll(`.wpgb-facet[data-grid="bricks-element-${CSS.escape(e.split("-").pop())}"]`);t.length&&t.forEach(((e,t)=>{(e=>{for(;e.firstChild;)e.firstChild.remove();e.append(c.createContextualFragment(l).cloneNode(!0))})(e),t||delete e._wpgb_loaded}))}const S=XMLHttpRequest.prototype.open,x=XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(e){const t=new URLSearchParams(e),n=t.get("action");if("bricks_render_data"===n){const e=JSON.parse(t.get("elements"));e?.forEach?.(m)}else if("bricks_render_element"===n){const e=JSON.parse(t.get("element"));e&&m(e)}return x.apply(this,arguments)},window.XMLHttpRequest.prototype.open=function(){return this.addEventListener("load",(function(e){const t=JSON.parse(e.target.responseText);if(t&&t.success&&t.data){const e=document.createRange().createContextualFragment(t.data).querySelector('[class^="brxe-"]');e?.classList&&[...e.classList].forEach(E)}v(),setTimeout((()=>{requestAnimationFrame((()=>{y()}))}),100)})),S.apply(this,arguments)},g.register({request:function(e,t){try{const{body:e}=t,n=JSON.parse(e);"bricks_render_element"===n?.action&&n?.element&&(m(n.element),E(n.element.id))}catch(e){}return[e,t]},response:function(e){const t=e.clone();return e.json=()=>t.json().then((e=>(e?.data?.elements?.forEach?.(m),v(),setTimeout((()=>{requestAnimationFrame((()=>{y()}))}),100),e))),e}}),setInterval(y,500);const k=document.createRange(),_=`<div class="wpgb-element-placeholder wpgb-is-warning">\n\t\t<div class="wpgb-element-header">\n\t\t\t<svg viewBox="0 0 1000 1000"><path fill="#555d66" d="M838.071 0H161.928C72.496 0 0 72.495 0 161.928v676.143C0 927.504 72.496 1000 161.928 1000H838.07c89.433 0 161.929-72.496 161.929-161.929V161.928C999.999 72.495 927.503 0 838.071 0zM721.246 801.412c0 11.589-6.238 17.827-17.832 17.833H297.056c-11.588 0-17.833-6.244-17.833-17.833V696.188c0-11.594 6.246-17.833 17.833-17.833h406.358c11.588 0 17.832 6.239 17.832 17.833v105.224zM500.283 621.389c-126.023 0-226.131-92.06-226.131-213.619 0-121.554 99.824-213.347 225.848-213.347v127.544c-50.051 0-83.732 39.325-83.732 85.802s33.959 85.809 84.016 85.809c49.155 0 83.12-39.332 83.12-85.809l-.006-1.032h142.116l.006 1.032c-.001 121.561-100.11 213.62-225.237 213.62zm225.61-270.771H554.764V179.49h157.493c7.526.003 13.629 6.102 13.636 13.63v157.498z"></path></svg>\n\t\t\t<div class="wpgb-element-label">${wpgb_settings.noFacetContent}</div>\n\t\t</div>\n\t</div>`,T=e=>{for(;e.firstChild;)e.firstChild.remove();e.append(k.createContextualFragment(_).cloneNode(!0))};const A=new class{get(e,t){return t=(t||"").toString(),window.WP_Grid_Builder?Object.values(WP_Grid_Builder.instances).filter((n=>{const r=e&&e===n.element,o=t===(n.id||"").toString()&&(e||!document.body.contains(n.element));return r||o})):[]}has(e,t){return this.get(e,t).length>0}refresh(e,t){this.get(e,t).forEach((e=>{e.facets&&(e.facets.query(),e.facets.getURLParams(),e.facets.fetch("render"))}))}destroy(e,t){this.get(e,t).forEach((e=>{e.init(),e.destroy()}))}};function C(e){const t=this.options.id.toString();if(e.post_id=parseInt(bricksData.postId,10),!t.includes("bricks-element-"))return;const n=h(t.replace("bricks-element-","",t));n&&(e.elements=n)}function P(e,t){t&&"load_more"===t.type&&t.settings&&"onscroll"===t.settings.load_more_event&&(t.settings.load_more_event="onclick"),e.closest(".wp-grid-builder")||!e||e.childElementCount>0||T(e)}function L(e){e.init(),e.facets&&(e.facets.on("refresh",O),e.facets.on("render",B),e.facets.history=!1,e.facets.autoRefresh=!1)}function B(e,t){window.dispatchEvent(new CustomEvent("wpgb.facet.render",{detail:{holder:e,facet:t}}))}function O(){window.dispatchEvent(new CustomEvent("wpgb.facet.refresh",{detail:this}))}function N(){["bricksPrettify","bricksAccordion","bricksAnimatedTyping","bricksAnimation","bricksAudio","bricksCountdown","bricksCounter","bricksSplide","bricksSwiper","bricksVideo","bricksLightbox","bricksLazyLoad","bricksPieChart","bricksProgressBar","bricksAlertDismiss","bricksTabs","bricksVideoOverlayClickDetector","bricksBackgroundVideoInit","bricksPhotoswipe","bricksInteractions","bricksPopups","bricksPricingTables","bricksPostReadingProgressBar","bricksForm","bricksPostReadingTime","bricksNavNested","bricksOffcanvas","bricksToggle","bricksIsotope"].forEach((e=>window?.[e]?.())),"undefined"!=typeof bricksWooMiniCartHideDetailsClickOutside&&bricksWooMiniCartHideDetailsClickOutside?.(),"undefined"!=typeof bricksWooAjaxAddToCartText&&bricksWooAjaxAddToCartText?.(),"undefined"!=typeof bricksWooAjaxAddToCartFn&&bricksWooAjaxAddToCartFn?.run?.(),"undefined"!=typeof bricksWooCheckoutSubmitBehavior&&bricksWooCheckoutSubmitBehavior?.(),"undefined"!=typeof bricksWooProductGalleryEnhance&&bricksWooProductGalleryEnhance?.(),"undefined"!=typeof bricksWooQuantityTriggersFn&&bricksWooQuantityTriggersFn?.run?.(),"undefined"!=typeof bricksWooLoopQtyListenerFn&&bricksWooLoopQtyListenerFn?.run?.()}window.addEventListener("wpgb.facet.loaded",(function(e){const t=e.detail,{grid:n}=t.dataset;n.includes("bricks-element-")&&A.destroy("",n);A.has(!0,n)?A.refresh(!0,n):function(e){const t=document.querySelector(`.${CSS.escape(e)}, [data-id="${CSS.escape(e.split("-").pop())}"]`),n=WP_Grid_Builder.instantiate(t||document.createElement("div"),function(e){const t={id:e,history:!1,isGutenberg:!0};if(""===e)return;if(/^\d+$/.test(e))t.id=parseInt(e);else if(t.isTemplate=!0,e.includes("bricks-element-")){const n=h(e.replace("bricks-element-","",e));t.isTemplate="Bricks",t.customContent=!0,n?.name&&window.dispatchEvent(new CustomEvent(`wpgb.${n.name}.loaded`,{detail:t}))}return t}(e));t||(n.options.isShadow=!0);n.facets.on("fetch",C),n.facets.on("render",P),n.init(),n.facets.history=!1,n.facets.autoRefresh=!1,n.options.element&&window.dispatchEvent(new CustomEvent(`wpgb.${n.options.element}.init`,{detail:n}))}(n)})),window.addEventListener("wpgb.facet.render",(({detail:e})=>P(e.holder,e.facet))),window.addEventListener("wpgb.grid.loaded",(function(e){const t=e.detail;A.has(t)?A.get(t).forEach(L):L(WP_Grid_Builder.instantiate(t))}));class R{constructor(e){this.instance=e,this.className=`brxe-${e.id.split("-").pop()}`,this.instance.element&&(this.setupPlaceholder(),this.changeElement(),e.facets.on("fetch",this),e.facets.on("fetched",this),e.facets.on("appended",this))}fetch(e,t){"render"!==t&&this.loading(!0)}fetched(e){if(!e.posts)return;const t=document.createRange();t.selectNodeContents(t.createContextualFragment("<template>").lastChild);const n=t.createContextualFragment(e.posts),r=this.instance.facets.isLoadingMore()?"append":"replace";let o=this.placeholder;if("replace"===r&&(this.unsetDynamicStyles(),this.removeStyles(),this.removePopups()),"replace"===r)for(;this.placeholder.nextElementSibling&&(this.placeholder.nextElementSibling.id===this.className||"STYLE"===this.placeholder.nextElementSibling.tagName||this.placeholder.nextElementSibling.classList.contains(this.className)||this.placeholder.nextElementSibling.classList.contains("brx-query-trail")||this.placeholder.nextElementSibling.classList.contains("bricks-posts-nothing-found"));)this.placeholder.nextElementSibling.remove();else for(;o.nextElementSibling&&o.nextElementSibling.classList.contains(this.className);)o=o.nextElementSibling;const s=n.querySelectorAll(`.${this.className}`);for(let e=n.children.length-1;e>-1;e--)n.children[e].removeAttribute("data-options"),n.children[e].classList.remove("bricks-lazy-hidden"),n.children[e]?.classList?.contains("brx-popup")?document.body.append(n.children[e]):"STYLE"!==n.children[e].tagName?(this.instance.facets.isLoadingMore()||n.children[e].classList.add("wpgb-loading"),n.children[e]?.classList?.contains("brx-popup")||n.children[e]?.classList?.contains("brx-query-trail")||n.children[e]&&o.after(n.children[e])):(n.children[e].classList.add(`wpgb-style-${this.className}`),document.body.append(n.children[e]));requestAnimationFrame((()=>this.loading(!1))),this.instance.facets.emit("appended",[s,r]),e.posts=""}unsetDynamicStyles(){const e=document.getElementById("bricks-dynamic-data-inline-css");if(!e)return;const t=new RegExp(`\\.${this.className}[^{]*\\[data-query-loop-index="\\d+"\\][^{]*{[^}]*}`,"gi");e.textContent=e.textContent.replace(t,"").trim()}removePopups(){document.querySelectorAll(`[data-popup-loop="${CSS.escape(this.className.replace("brxe-",""))}"]`).forEach((e=>e.remove()))}removeStyles(){document.querySelectorAll(`.wpgb-style-${this.className}`).forEach((e=>e.remove()))}appended(){N()}loading(e){if(this.instance.facets.isLoadingMore())return;const t=e?"add":"remove";let n=this.placeholder.nextElementSibling;for(;n&&(n.id===this.className||n.classList.contains(this.className)||n.classList.contains("bricks-posts-nothing-found"));)n.classList[t]?.("wpgb-loading"),n=n.nextElementSibling}setupPlaceholder(){this.placeholder=document.createComment(" Gridbuilder ᵂᴾ Plugin (https://wpgridbuilder.com) "),this.instance.element.parentElement.insertBefore(this.placeholder,this.instance.element)}changeElement(){this.instance.element.removeAttribute("data-instance"),this.instance.element.classList.remove("wpgb-enabled"),this.instance.element=this.instance.element.parentElement,this.instance.facets.element=this.instance.element,this.instance.element.classList.add("wpgb-enabled"),this.instance.element.dataset.instance=this.instance.instance}}window.addEventListener("wpgb.div.loaded",(function(e){e.detail.itemSelector=".brxe-div, .bricks-posts-nothing-found",e.detail.element="div"})),window.addEventListener("wpgb.div.init",(function(e){new R(e.detail)})),window.addEventListener("wpgb.block.loaded",(function(e){e.detail.itemSelector=".brxe-block, .bricks-posts-nothing-found",e.detail.element="block"})),window.addEventListener("wpgb.block.init",(function(e){new R(e.detail)}));class q{constructor(e){this.instance=e,this.setupElement(),e.facets.on("fetch",this),e.facets.on("fetched",this),e.facets.on("appended",this)}fetch(e){this.paged&&(e.paged=this.paged)}fetched(e){if(!e.posts)return;const t=document.createRange().createContextualFragment(e.posts);this.replaceNoResults(t,e),this.appendNoResults(t,e)}appended(){window?.bricksIsotope?.(),N()}paginate(e){e.target.closest(".page-numbers")&&e.target.href&&(e.preventDefault(),e.stopPropagation(),this.paged=(e.target.href||"").match(/\/(\d+)/),this.paged=this.paged&&this.paged[1]||1,this.paged&&this.instance.facets.refresh(),this.scrollToTop())}scrollToTop(){const e=this.instance.element.getBoundingClientRect().top+window.pageYOffset-120;this.instance.element.tabIndex=-1,this.instance.element.focus({preventScroll:!0}),"scrollBehavior"in document.documentElement.style?window.scrollTo({top:e,behavior:"smooth"}):document.documentElement.scrollTop=e}replacePagination(e){const t=e.querySelector(".bricks-pagination");this.instance.element.querySelector(".bricks-pagination")?.remove(),t&&this.instance.element.append(t),this.paged=!1}replaceNoResults(e,t){if(!this.instance.element.classList.contains("bricks-posts-nothing-found"))return void this.replacePagination(e);const n=e.querySelector(".brxe-posts");t.posts="",this.replaceElement(n),this.setupElement(),this.appended()}appendNoResults(e,t){const n=e.querySelector(".bricks-posts-nothing-found");n&&(t.posts="",this.replaceElement(n),this.setupElement(),this.appended())}replaceElement(e){this.instance.element.replaceWith(e),this.instance.element=e,this.instance.facets.element=e}setupElement(){this.instance.element.classList.add("wpgb-enabled"),this.instance.element.removeAttribute("data-options"),this.instance.element.dataset.instance=this.instance.instance,this.instance.element.addEventListener("click",this.paginate.bind(this),!0)}}window.addEventListener("wpgb.posts.loaded",(function(e){e.detail.itemSelector=".bricks-layout-item, .bricks-isotope-sizer, .bricks-posts-nothing-found",e.detail.element="posts"})),window.addEventListener("wpgb.posts.init",(function(e){new q(e.detail)}));class D{constructor(e){this.instance=e,this.setupElement(),e.facets.on("fetch",this),e.facets.on("fetched",this),e.facets.on("appended",this)}fetch(e){this.paged&&(e.paged=this.paged)}fetched(e){if(!e.posts)return;const t=document.createRange().createContextualFragment(e.posts);this.replaceNoResults(t,e),this.appendNoResults(t,e)}appended(){N()}paginate(e){e.target.closest(".page-numbers")&&e.target.href&&(e.preventDefault(),e.stopPropagation(),this.paged=(e.target.href||"").match(/(\d+|\product-page=d+)/),this.paged=this.paged&&this.paged[1]||1,this.paged&&this.instance.facets.refresh(),this.scrollToTop())}scrollToTop(){const e=this.instance.element.getBoundingClientRect().top+window.pageYOffset-120;this.instance.element.tabIndex=-1,this.instance.element.focus({preventScroll:!0}),"scrollBehavior"in document.documentElement.style?window.scrollTo({top:e,behavior:"smooth"}):document.documentElement.scrollTop=e}replacePagination(e){const t=e?.querySelector?.(".bricks-products-widgets.before"),n=e?.querySelector?.(".bricks-products-widgets.after");t&&this.instance.element?.querySelector?.(".bricks-products-widgets.before")?.replaceWith?.(t),n&&this.instance.element?.querySelector?.(".bricks-products-widgets.after")?.replaceWith?.(n),this.paged=!1}replaceNoResults(e,t){const n=this.instance.element.querySelector("ul.products.woocommerce li"),r=e.querySelector("ul.products.woocommerce li");n?this.replacePagination(e):r&&(t.posts="",this.replaceElement(e.firstElementChild.cloneNode(!0)),this.setupElement(),this.appended())}appendNoResults(e,t){e.querySelector("ul.products.woocommerce li")||(t.posts="",this.replaceElement(e.firstElementChild.cloneNode(!0)),this.setupElement(),this.appended())}replaceElement(e){this.instance.element.replaceWith(e),this.instance.element=e,this.instance.facets.element=e}setupElement(){this.instance.element.classList.add("wpgb-enabled"),this.instance.element.removeAttribute("data-options"),this.instance.element.dataset.instance=this.instance.instance,this.instance.element.addEventListener("click",this.paginate.bind(this),!0)}}window.addEventListener("wpgb.woocommerce-products.loaded",(function(e){e.detail.itemSelector=".ul.products.woocommerce li",e.detail.element="woocommerce-products"})),window.addEventListener("wpgb.woocommerce-products.init",(function(e){new D(e.detail)})),window.addEventListener("wpgb.container.loaded",(function(e){e.detail.itemSelector=".brxe-container, .bricks-posts-nothing-found",e.detail.element="container"})),window.addEventListener("wpgb.container.init",(function(e){new R(e.detail)}))})()})();
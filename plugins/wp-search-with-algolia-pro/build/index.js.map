{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wp-search-with-algolia-pro/./src/js/events/woo-add-to-cart-event.js","webpack://wp-search-with-algolia-pro/./src/js/events/woo-checkout-event.js","webpack://wp-search-with-algolia-pro/./src/js/events/woo-remove-from-cart-event.js","webpack://wp-search-with-algolia-pro/./src/js/utils/debug.js","webpack://wp-search-with-algolia-pro/./src/js/wds-algolia-search-pro.js","webpack://wp-search-with-algolia-pro/./src/js/woocommerce-events.js","webpack://wp-search-with-algolia-pro/external window \"jQuery\"","webpack://wp-search-with-algolia-pro/./node_modules/search-insights/dist/search-insights-browser.mjs","webpack://wp-search-with-algolia-pro/./node_modules/search-insights/index-browser.mjs","webpack://wp-search-with-algolia-pro/webpack/bootstrap","webpack://wp-search-with-algolia-pro/webpack/runtime/compat get default export","webpack://wp-search-with-algolia-pro/webpack/runtime/define property getters","webpack://wp-search-with-algolia-pro/webpack/runtime/hasOwnProperty shorthand","webpack://wp-search-with-algolia-pro/webpack/runtime/make namespace object","webpack://wp-search-with-algolia-pro/./src/index.js"],"sourcesContent":["/**\n * WooCommerce Add to Cart Event Handler for Algolia Analytics\n *\n * This module handles tracking of WooCommerce add-to-cart events in Algolia analytics.\n * Captures product data and sends conversion events when products are added to cart.\n *\n * @requires search-insights - Algolia insights library\n */\n\nimport aa from 'search-insights';\nimport { debugLog, debugFormSubmission } from '../utils/debug';\n\n/**\n * Extracts product data from the WooCommerce add-to-cart button or form\n *\n * @param {HTMLElement} element - The clicked button or form element\n * @param {Object} fragments - Cart fragments from WooCommerce\n * @returns {Object} Normalized product data\n */\nfunction extractProductData(element, fragments) {\n    debugLog('Extracting product data from:', {\n        element: element,\n        elementType: element?.tagName,\n        elementClasses: element?.className,\n        fragments: fragments\n    });\n\n\t// Try to get data from button or form first\n\tconst productData = {\n\t\tproduct_id  : null,\n\t\tquantity    : 1,\n\t\tprice       : 0,\n\t\tname        : '',\n\t\tvariation_id: null\n\t};\n\n    // Validate input\n    if (!element) {\n        debugLog('No element provided to extractProductData');\n        return productData;\n    }\n\n    try {\n        // Get product ID from various possible sources\n        if (element instanceof HTMLFormElement) {\n            const addToCartInput = element.querySelector('input[name=\"add-to-cart\"]');\n            const addToCartButton = element.querySelector('button[name=\"add-to-cart\"]');\n            const productIdInput = element.querySelector('[name=\"product_id\"]');\n\n            productData.product_id = (addToCartInput?.value ||\n                                    addToCartButton?.value ||\n                                    productIdInput?.value);\n\n            const quantityInput = element.querySelector('input[name=\"quantity\"]');\n            productData.quantity = parseInt(quantityInput?.value) || 1;\n\n            const variationInput = element.querySelector('input[name=\"variation_id\"]');\n            productData.variation_id = variationInput?.value || null;\n        } else {\n            // Try jQuery data attributes first\n            if (jQuery && jQuery(element).data('product_id')) {\n                productData.product_id = jQuery(element).data('product_id');\n            } else {\n                productData.product_id = element.dataset?.product_id ||\n                                    element.value ||\n                                    element.closest('.product')?.querySelector('[name=\"product_id\"]')?.value;\n            }\n\n            productData.quantity = parseInt(element.dataset?.quantity) || 1;\n            productData.variation_id = element.dataset?.variation_id || null;\n        }\n\n        // Try to get price and name from the page\n        const product = element.closest('.product');\n        if (product) {\n            // Check for simple product price\n            const priceElem = product.querySelector('.price .amount, .woocommerce-Price-amount, .price ins .amount, .woocommerce-variation-price .woocommerce-Price-amount.amount');\n            if (priceElem) {\n                productData.price = parseFloat(priceElem.textContent.replace(/[^0-9.]/g, ''));\n            }\n\n            // Check for variation price\n            const priceElemVariation = product.querySelector('.woocommerce-variation-price .woocommerce-Price-amount.amount');\n            if (priceElemVariation) {\n                productData.price = parseFloat(priceElemVariation.textContent.replace(/[^0-9.]/g, ''));\n            }\n\n            const nameElem = product.querySelector('.product_title, .woocommerce-loop-product__title, h1.entry-title');\n            if (nameElem) {\n                productData.name = nameElem.textContent.trim();\n            }\n        }\n\n        // If we have fragments, try to get additional data\n        if (fragments && typeof fragments === 'object') {\n            // WooCommerce sometimes includes the data directly in fragments\n            if (fragments.cart_item_data) {\n                const cartItem = fragments.cart_item_data;\n                productData.price = parseFloat(cartItem.price) || productData.price;\n                productData.name = cartItem.product_name || productData.name;\n                productData.quantity = parseInt(cartItem.quantity) || productData.quantity;\n            }\n\n            // Sometimes the product data is in the fragments.products object\n            if (fragments.products && productData.product_id) {\n                const product = fragments.products[productData.product_id];\n                if (product) {\n                    productData.name = product.title || productData.name;\n                    productData.price = parseFloat(product.price) || productData.price;\n                }\n            }\n        }\n\n        debugLog('Extracted Product Data:', productData);\n\n        // Validate product ID\n        if (!productData.product_id) {\n            debugLog('Could not find product ID from element:', element);\n        }\n\n        return productData;\n\n    } catch (error) {\n        debugLog('Error extracting product data:', error);\n        return productData;\n    }\n}\n\n/**\n * Formats the event data for Algolia analytics\n *\n * @param {Object} productData - The extracted product data\n * @returns {Object} Formatted event data for Algolia\n */\nfunction formatEventData(productData) {\n    if (!productData.product_id) {\n        debugLog('Missing product ID in event data');\n        return null;\n    }\n    debugLog(wpswapWCData.currency);\n    const eventData = {\n        eventName: 'Product Added to Cart',\n        index: wpswapWCData.algolia_index_name_prefix + 'searchable_posts',\n        objectIDs: [productData.product_id.toString() + '-0'],\n        objectData: [{\n            queryID: window.lastQueryID || '',\n            price: productData.price,\n            quantity: productData.quantity,\n            name: productData.name,\n            variation_id: productData.variation_id\n        }],\n        currency: wpswapWCData.currency || '',\n    };\n\n    debugLog('Formatted Event Data:', eventData);\n    return eventData;\n}\n\n/**\n * Logs an add-to-cart event to Algolia analytics\n *\n * @param {HTMLElement} element - The clicked button or form element\n * @param {Object} fragments - Cart fragments from WooCommerce\n * @returns {Promise} Promise that resolves when the event is logged\n */\nfunction logAddToCartEvent(element, fragments) {\n    return new Promise((resolve, reject) => {\n        if (!window.algolia?.insights_enabled) {\n            debugLog('Algolia insights tracking is disabled');\n            resolve();\n            return;\n        }\n\n        if (!element) {\n            debugLog('No element provided for add to cart tracking');\n            resolve();\n            return;\n        }\n\n        const productData = extractProductData(element, fragments);\n        if (!productData.product_id) {\n            debugLog('No product ID found for add to cart event');\n            resolve();\n            return;\n        }\n\n        const eventData = formatEventData(productData);\n        if (!eventData) {\n            resolve();\n            return;\n        }\n\n        try {\n            aa('addedToCartObjectIDs', eventData);\n            storeCartEventData(eventData); // Store event data for potential page refresh\n            resolve();\n        } catch (error) {\n            debugLog('Error sending event to Algolia:', error);\n            resolve(); // Resolve anyway to not block the user\n        }\n    });\n}\n\n/**\n * Stores cart event data in session storage before page refresh\n *\n * @param {Object} eventData - The event data to store\n */\nfunction storeCartEventData(eventData) {\n    try {\n        sessionStorage.setItem('algolia_cart_event', JSON.stringify(eventData));\n    } catch (error) {\n        debugLog('Error storing cart event data:', error);\n    }\n}\n\n/**\n * Processes any stored cart events after page load\n */\nfunction processStoredCartEvents() {\n    try {\n        const storedEvent = sessionStorage.getItem('algolia_cart_event');\n        if (storedEvent) {\n            const eventData = JSON.parse(storedEvent);\n            aa('addedToCartObjectIDs', eventData);\n            sessionStorage.removeItem('algolia_cart_event');\n        }\n    } catch (error) {\n        debugLog('Error processing stored cart events:', error);\n    }\n}\n\n/**\n * Binds the add-to-cart event handler to WooCommerce buttons and forms\n *\n * @returns {void}\n */\nexport function bindAddToCartEvent() {\n    // Process any stored events from previous page load\n    processStoredCartEvents();\n\n    // Flag to track if added_to_cart event fired\n    let addedToCartFired = false;\n\n    // Primary method: Listen for WooCommerce's added_to_cart event\n    jQuery(document.body).on('added_to_cart', function(event, fragments, cart_hash, $button) {\n        addedToCartFired = true;\n        debugLog('Added to cart event triggered:', {\n            event: event,\n            fragments: fragments,\n            cart_hash: cart_hash,\n            $button: $button,\n            buttonElement: $button ? $button.get(0) : null\n        });\n\n        // Convert jQuery object to DOM element if needed\n        const button = $button ? $button.get(0) : document.querySelector('.adding_to_cart');\n\n        if (!button) {\n            debugLog('No button found for add to cart event');\n        }\n\n        logAddToCartEvent(button || this, fragments);\n    });\n\n    // Early binding: Catch the click and check if added_to_cart fires\n    jQuery(document).on('click', '.ajax_add_to_cart', function(e) {\n\n        const $button = jQuery(this);\n        const startTime = Date.now();\n\n        debugLog('Button clicked:', {\n            button: this,\n            classes: this.className,\n            isAjax: $button.hasClass('ajax_add_to_cart') || $button.hasClass('single_add_to_cart_button'),\n            productId: $button.data('product_id') || $button.val()\n        });\n\n        // Reset the flag\n        addedToCartFired = false;\n\n        // Wait a short time to see if added_to_cart fires\n        setTimeout(() => {\n            if (!addedToCartFired) {\n                debugLog('added_to_cart event did not fire, using fallback');\n\n                // Convert jQuery object to DOM element if needed\n                const button = $button ? $button.get(0) : document.querySelector('.adding_to_cart');\n                if (!button) {\n                    debugLog('No button found for add to cart event');\n                }\n\n                logAddToCartEvent(button || this, null);\n            }\n        }, 5000); // Wait 5s for the added_to_cart event\n    });\n\n    // Backup method: Listen for cart fragment changes\n    jQuery(document.body).on('wc_fragments_refreshed wc_fragments_loaded', function(event) {\n        debugLog('Cart fragments updated:', event.type);\n\n        // Get the last clicked add to cart button\n        const lastClickedButton = document.querySelector('.ajax_add_to_cart.loading, .single_add_to_cart_button.loading');\n        if (lastClickedButton) {\n            debugLog('Found loading button:', lastClickedButton);\n            logAddToCartEvent(lastClickedButton, null);\n        }\n    });\n\n    // Handle non-AJAX add to cart buttons\n    document.body.addEventListener('click', function(event) {\n        const button = event.target.closest('.add_to_cart_button:not(.ajax_add_to_cart), .single_add_to_cart_button:not(.ajax_add_to_cart)');\n        if (!button) return;\n\n        // Skip if button is inside a form (will be handled by form submit)\n        if (button.closest('form.cart')) {\n            debugLog('Button is inside form, skipping click handler');\n            return;\n        }\n\n        // For direct add to cart buttons (like in product lists)\n        debugLog('Direct add to cart button clicked');\n        event.preventDefault();\n\n        // Store the event data before the redirect\n        const productData = extractProductData(button, null);\n        const eventData = formatEventData(productData);\n        if (eventData) {\n            storeCartEventData(eventData);\n        }\n\n        // Trigger the original click event\n        const href = button.getAttribute('href');\n        if (href) {\n            window.location.href = href;\n        } else {\n            button.click();\n        }\n    });\n\n    // Handle form submissions\n    document.body.addEventListener('submit', function(event) {\n        const form = event.target.closest('form.cart');\n        if (!form) return;\n\n        const button = form.querySelector('.single_add_to_cart_button');\n\n        // Skip if it's an AJAX submission\n        if (button?.classList.contains('ajax_add_to_cart')) {\n            debugLog('AJAX form submission, skipping');\n            return;\n        }\n\n        debugLog('Processing form submission');\n\n        // Store the event data before the redirect\n        const productData = extractProductData(form, null);\n        debugFormSubmission(form, productData);\n\n        const eventData = formatEventData(productData);\n        if (eventData) {\n            storeCartEventData(eventData);\n        }\n\n        // Submit the form\n        form.submit();\n    });\n\n}\n","/**\n * WooCommerce Checkout Event Handler for Algolia Analytics\n *\n * This module handles tracking of WooCommerce checkout initialization events\n * in Algolia analytics. It captures when users start the checkout process\n * and logs relevant cart and product information.\n *\n * Required Global Configuration:\n * window.algolia = {\n *   products_index: string,     // Algolia index name for products\n *   insights_enabled: boolean   // Analytics tracking toggle\n * }\n *\n * @module woo-checkout-event\n * @requires search-insights - Algolia insights library\n * @requires jquery - For DOM manipulation and event handling\n */\n\nimport aa from 'search-insights';\nimport { debugLog } from '../utils/debug';\n\n/**\n * Extracts checkout data from WooCommerce's global state and DOM\n *\n * Gathers relevant checkout information from:\n * 1 Checkout form data\n * 2. Cart item details in the DOM\n *\n * @returns {Object} Normalized checkout data containing:\n *   - currency {string} - Currency code\n *   - items {Array} - Cart items\n */\nfunction extractCheckoutData() {\n  // Try to get data from various WooCommerce sources\n  const cartData = {\n    currency: '',\n    items: [],\n    subtotal: 0,\n    total: 0\n  };\n\n  // Try to get currency from different possible sources\n  cartData.currency = wpswapWCData.currency;\n  console.log(wpswapWCProducts);\n\n  // Map through products object if available\n  if (wpswapWCProducts) {\n    cartData.items = Object.entries(wpswapWCProducts.items).map(([key, product]) => ({\n      product_id: product.id || product.product_id || 'none',\n      quantity: parseInt(product.quantity || 1),\n      price: parseFloat(product.price || 1),\n      name: product.name || product.title || '',\n      sku: product.sku || '',\n      categories: product.categories || [],\n      variation_id: product.variation_id || null,\n    }));\n    debugLog('Mapped product data:', cartData.items);\n  }\n  // Fallback to DOM elements if no products data, this will run because if condition always going to try, this is just a backup method\n  else {\n    // Try different selectors for cart items\n    const cartItems = jQuery('.woocommerce-checkout-review-order-table, .wc-block-components-order-summary-item, .cart_item, #order_review .cart_item, .woocommerce-cart-form .cart_item');\n    debugLog('Cart items:', cartItems);\n    if (cartItems.length) {\n      cartData.items = cartItems.map(function() {\n        const item = jQuery(this);\n        const priceText = item.find('.product-total .amount, .product-price .amount, .wc-block-formatted-money-amount, .woocommerce-Price-amount.amount').first().text();\n        const price = parseFloat(priceText.replace(/[^0-9.]/g, ''));\n\n        return {\n          product_id: item.find('[data-product_id]').data('product_id') || item.data('product_id') || 'none',\n          quantity: parseInt(item.find('.quantity input').val() || item.find('.product-quantity').text() || item.find('.wc-block-components-order-summary-item__quantity > .screen-reader-text').text() || 1),\n          price: price || 0,\n          name: item.find('.product-name, .wc-block-components-order-summary-item__name, .wc-block-components-product-name').text().trim()\n        };\n      }).get();\n    }\n\n  }\n\n  debugLog('Extracted Cart Data:', cartData);\n  return cartData;\n}\n\n/**\n * Formats checkout data for Algolia analytics\n *\n * Transforms the extracted checkout data into Algolia's\n * expected event format for conversion tracking.\n *\n * @param {Object} checkoutData - The extracted checkout data\n * @returns {Object} Formatted event data for Algolia\n */\nfunction formatEventData(checkoutData) {\n  const eventData = {\n    eventName: 'Checkout Started',\n    eventType: 'view',\n    index: wpswapWCData.algolia_index_name_prefix + 'searchable_posts',\n    objectIDs: checkoutData.items.map(item => item.product_id.toString() + '-0'),\n    objectData: checkoutData.items.map(item => ({\n      queryID: window.lastQueryID || '',\n      price: item.price,\n      quantity: item.quantity,\n      name: item.name\n    })),\n    currency: wpswapWCData.currency,\n    value: wpswapWCProducts.total || 0\n  };\n\n  debugLog('Formatted Event Data:', eventData);\n  return eventData;\n}\n\n/**\n * Logs a checkout initialization event to Algolia analytics\n *\n * Main event logging function that:\n * 1. Checks if insights tracking is enabled\n * 2. Extracts checkout data\n * 3. Formats the data for Algolia\n * 4. Sends the conversion event\n *\n * @returns {void}\n */\nfunction logCheckoutEvent() {\n  if (!window.algolia?.insights_enabled) {\n    return;\n  }\n\n  const checkoutData = extractCheckoutData();\n  const eventData = formatEventData(checkoutData);\n\n  if (eventData.objectIDs.length > 0) {\n    debugLog('Sending event to Algolia:', eventData);\n    aa('convertedObjectIDsAfterSearch', eventData);\n  } else {\n    console.warn('No cart items found to track');\n  }\n}\n\n/**\n * Binds the checkout event handler to WooCommerce's checkout initialization\n *\n * Sets up event listeners for multiple checkout triggers to ensure\n * we catch the checkout event regardless of how it's initiated.\n *\n * @param {jQuery} $ - jQuery instance\n * @returns {void}\n */\nexport function bindCheckoutEvent($) {\n  let hasLoggedCheckout = false;\n\n  const logCheckoutWithDebounce = () => {\n    if (hasLoggedCheckout) {\n      debugLog('Checkout already logged, skipping duplicate event');\n      return;\n    }\n    hasLoggedCheckout = true;\n    logCheckoutEvent();\n  };\n\n  // Listen for WooCommerce's checkout initialization\n  $(document.body).on('init_checkout', function() {\n    debugLog('Checkout initialized');\n    setTimeout(logCheckoutWithDebounce, 500); // Give WC time to update DOM\n  });\n\n  // Track when users reach the checkout page directly\n  if (document.body.classList.contains('woocommerce-checkout')) {\n    debugLog('Direct checkout page load');\n    // Wait for page to be fully loaded\n    $(window).on('load', function() {\n      setTimeout(logCheckoutWithDebounce, 3000);\n    });\n  }\n\n  // Also track on checkout form updates\n  $(document.body).on('updated_checkout', function() {\n    debugLog('Checkout updated');\n    setTimeout(logCheckoutWithDebounce, 3000);\n  });\n}\n","/**\n * WooCommerce Remove from Cart Event Handler for Algolia Analytics\n *\n * This module handles tracking when products are removed from the cart in WooCommerce.\n *\n * @module woo-remove-from-cart-event\n */\n\nimport aa from 'search-insights';\nimport { debugLog } from '../utils/debug';\n\n/**\n * Track a cart removal event in Algolia Analytics\n *\n * @param {HTMLElement} element - The clicked remove button element\n * @returns {void}\n */\nfunction trackCartRemoval(element) {\n    // Try to get data from various WooCommerce sources\n    const cartData = {\n        currency: '',\n        items: [],\n        subtotal: 0,\n        total: 0\n    };\n\n    try {\n        if (wpswapWCProducts) {\n            cartData.items = Object.entries(wpswapWCProducts.items).map(([key, product]) => ({\n                product_id: product.id || product.product_id || 'none',\n            }));\n            debugLog('Mapped product data:', cartData.items);\n        }\n\n        const eventData = {\n            eventName: 'Product Removed from Cart',\n            eventType: 'click',\n            objectIDs: cartData.items.map(item => item.product_id.toString() + '-0'),\n            index: wpswapWCData.algolia_index_name_prefix + 'searchable_posts',\n            userToken: window.algolia?.userToken,\n            currency: wpswapWCData.currency,\n        };\n\n        console.debug('[Algolia] Sending cart removal event:', eventData);\n        aa('sendEvents', [eventData]);\n    } catch (error) {\n        console.error('[Algolia] Failed to track cart removal:', error);\n    }\n}\n\n/**\n * Initialize cart removal tracking\n *\n * @returns {void}\n */\nfunction initializeTracking() {\n    try {\n        console.debug('[Algolia] Setting up remove from cart click listener');\n\n        const selectors = [\n            '.wc-block-cart-item__remove-link',\n            'a.remove',\n            '.remove_from_cart_button'\n        ];\n\n        document.body.addEventListener('click', (event) => {\n            const removeButton = event.target.closest(selectors.join(', '));\n            if (!removeButton) return;\n\n            console.debug('[Algolia] Remove button clicked:', {\n                element: removeButton,\n                classes: removeButton.className\n            });\n\n            trackCartRemoval(removeButton);\n        });\n\n        console.debug('[Algolia] Cart removal tracking initialized');\n    } catch (error) {\n        console.error('[Algolia] Failed to initialize cart removal tracking:', error);\n    }\n}\n\n/**\n * Bind remove from cart event tracking\n *\n * Sets up event listeners for product removal from cart in WooCommerce.\n * Ensures tracking is initialized only after DOM is ready.\n *\n * @returns {void}\n */\nexport function bindRemoveFromCartEvent() {\n    if (!window.algolia) {\n        console.warn('[Algolia] Analytics not available - window.algolia is undefined');\n        return;\n    }\n\n    if (!aa) {\n        console.warn('[Algolia] Analytics not available - search-insights is undefined');\n        return;\n    }\n\n    console.debug('[Algolia] Initializing remove from cart event tracking');\n\n    if (document.readyState === 'loading') {\n        console.debug('[Algolia] Document loading - waiting for DOMContentLoaded');\n        document.addEventListener('DOMContentLoaded', initializeTracking);\n    } else {\n        console.debug('[Algolia] Document ready - initializing immediately');\n        initializeTracking();\n    }\n}\n","/**\n * Debug utility functions for Algolia integration\n */\n\n/**\n * Log debug messages with Algolia prefix\n * @param {string} message - The message to log\n * @param {any} [data] - Optional data to log\n */\nexport const debugLog = (message, data = null) => {\n    // Only log if debug mode is enabled\n    if (!window.algolia?.debug) {\n        return;\n    }\n    \n    const prefix = '[Algolia]';\n    if (data) {\n        console.log(`${prefix} ${message}`, data);\n    } else {\n        console.log(`${prefix} ${message}`);\n    }\n};\n\n/**\n * Log form submission debug data\n * @param {HTMLFormElement} form - The form being submitted\n * @param {Object} productData - Product data being tracked\n */\nexport const debugFormSubmission = (form, productData) => {\n    // Only log if debug mode is enabled\n    if (!window.algolia?.debug) {\n        return;\n    }\n    \n    debugLog('Form submission details:', {\n        form: form,\n        formAction: form.action,\n        formMethod: form.method,\n        formElements: form.elements,\n        productData: productData,\n        button: form.querySelector('.single_add_to_cart_button'),\n        addToCartInput: form.querySelector('[name=\"add-to-cart\"]'),\n        isAjax: form.querySelector('.single_add_to_cart_button')?.classList.contains('ajax_add_to_cart')\n    });\n}; ","/**\n * WebDevStudios Algolia Search Integration\n *\n * This module provides the core Algolia search integration for WordPress,\n * handling initialization, configuration, and WooCommerce event tracking.\n *\n * Global Configuration:\n * window.algolia = {\n *   application_id: string,    // Algolia application ID\n *   search_api_key: string,    // Algolia search API key\n *   products_index: string,    // Index name for products\n *   insights_enabled: boolean  // Whether to track analytics\n * }\n *\n * @module wds-algolia-search\n * @requires search-insights - Algolia insights library\n * @requires jquery - For DOM manipulation\n * @requires ./woocommerce-events - WooCommerce event handling\n */\n\nimport aa from 'search-insights';\nimport jQuery from \"jquery\";\nimport { initWooCommerceEvents } from './woocommerce-events';\n\n// Enable debug mode\nalgolia.debug = false;\n\n// Make jQuery available globally for legacy support\nwindow.$ = window.jQuery = jQuery;\n\n// Define Algolia configuration object with fallback to window.algolia values\nwindow.algolia = algolia || {\n  application_id: algolia.application_id,\n  search_api_key: algolia.search_api_key,\n  products_index: wpswapWCData.algolia_index_name_prefix + '_searchable_posts',\n  insights_enabled: algolia.insights_enabled,\n};\n\n/**\n * Initialize Algolia analytics with configuration\n * This must be done before any events can be tracked\n */\naa(\"init\", {\n  appId: window.algolia.application_id,\n  apiKey: window.algolia.search_api_key,\n});\n\n// Initialize WooCommerce event tracking\ninitWooCommerceEvents();\n","/**\n * WooCommerce Event Handlers for Algolia Analytics\n * \n * This module serves as the central coordinator for all WooCommerce event tracking\n * in Algolia analytics. It initializes and manages various event handlers for\n * different WooCommerce interactions.\n * \n * Current Supported Events:\n * - Add to Cart: Tracks when products are added to the shopping cart\n * - Remove from Cart: Tracks when products are removed from the cart\n * - Begin Checkout: Tracks when users start the checkout process\n * \n * Future Events (TODO):\n * - Update Cart: When product quantities are changed\n * - Purchase Complete: When an order is successfully placed\n * \n * @module woocommerce-events\n * @requires ./events/woo-add-to-cart-event - Add to cart event handler\n * @requires ./events/woo-remove-from-cart-event - Remove from cart event handler\n * @requires ./events/woo-checkout-event - Checkout event handler\n */\n\nimport { debugLog } from './utils/debug';\nimport { bindAddToCartEvent } from './events/woo-add-to-cart-event';\nimport { bindRemoveFromCartEvent } from './events/woo-remove-from-cart-event';\nimport { bindCheckoutEvent } from './events/woo-checkout-event';\n\n/**\n * Initialize WooCommerce event listeners\n * \n * Central initialization function that sets up all WooCommerce event handlers.\n * This function should be called once when the application starts.\n * \n * Current Initialization Steps:\n * 1. Binds add to cart event tracking\n * 2. Binds remove from cart event tracking\n * 3. Binds checkout initialization tracking\n * \n * As new event handlers are added, they should be initialized here\n * to maintain a centralized event management system.\n * \n * @returns {void}\n */\nexport function initWooCommerceEvents() {\n    debugLog('Initializing WooCommerce event tracking...');\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', initializeTracking);\n    } else {\n        initializeTracking();\n    }\n}\n\n/**\n * Initialize all tracking handlers\n */\nfunction initializeTracking() {\n    if (!window.algolia?.insights_enabled) {\n        debugLog('Algolia insights tracking is disabled');\n        return;\n    }\n\n    try {\n        // Initialize add to cart tracking\n        bindAddToCartEvent();\n        debugLog('Add to cart tracking initialized');\n        \n        // Initialize remove from cart tracking\n        bindRemoveFromCartEvent();\n        debugLog('Remove from cart tracking initialized');\n        \n        // Initialize checkout tracking\n        bindCheckoutEvent(jQuery);\n        debugLog('Checkout tracking initialized');\n\n        debugLog('WooCommerce event tracking initialization complete');\n    } catch (error) {\n        debugLog('Error initializing WooCommerce tracking:', error);\n    }\n} ","module.exports = window[\"jQuery\"];","var version=\"2.17.3\";function extractAdditionalParams(e){return e.reduce(function(e,t){var n=e.events,e=e.additionalParams;return\"index\"in t?{additionalParams:e,events:n.concat([t])}:{events:n,additionalParams:t}},{events:[],additionalParams:void 0})}var supportsCookies=function(){try{return Boolean(navigator.cookieEnabled)}catch(e){return!1}},supportsSendBeacon=function(){try{return Boolean(navigator.sendBeacon)}catch(e){return!1}},supportsXMLHttpRequest=function(){try{return Boolean(XMLHttpRequest)}catch(e){return!1}},supportsNativeFetch=function(){try{return void 0!==fetch}catch(e){return!1}},LocalStorage=function(){};function ensureLocalStorage(){try{var e=\"__test_localStorage__\";return globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),globalThis.localStorage}catch(e){}}LocalStorage.get=function(e){var t=null==(t=this.store)?void 0:t.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}},LocalStorage.set=function(t,e){var n;try{null!=(n=this.store)&&n.setItem(t,JSON.stringify(e))}catch(e){console.error(\"Unable to set \"+t+\" in localStorage, storage may be full.\")}},LocalStorage.remove=function(e){var t;null!=(t=this.store)&&t.removeItem(e)},LocalStorage.store=ensureLocalStorage();var STORE=\"AlgoliaObjectQueryCache\",LIMIT=5e3,FREE=1e3;function getCache(){var e;return null!=(e=LocalStorage.get(STORE))?e:{}}function setCache(e){LocalStorage.set(STORE,limited(e))}function limited(e){return Object.keys(e).length>LIMIT?purgeOldest(e):e}function purgeOldest(e){e=Object.entries(e).sort(function(e,t){e=e[1][1];return t[1][1]-e});return e.slice(0,e.length-FREE-1).reduce(function(e,t){var n=t[0],t=t[1];return Object.assign(Object.assign({},e),((e={})[n]=t,e))},{})}function makeKey(e,t){return e+\"_\"+t}function storeQueryForObject(e,t,n){var i=getCache();i[makeKey(e,t)]=[n,Date.now()],setCache(i)}function getQueryForObject(e,t){return getCache()[makeKey(e,t)]}function removeQueryForObjects(t,e){var n=getCache();e.forEach(function(e){delete n[makeKey(t,e)]}),setCache(n)}var isUndefined=function(e){return void 0===e},isNumber=function(e){return\"number\"==typeof e},isFunction=function(e){return\"function\"==typeof e},isPromise=function(e){return\"function\"==typeof(null==e?void 0:e.then)};function getFunctionalInterface(i){return function(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(e&&isFunction(i[e]))return i[e].apply(i,t);console.warn(\"The method `\"+e+\"` doesn't exist.\")}}var DEFAULT_ALGOLIA_AGENTS=[\"insights-js (\"+version+\")\",\"insights-js-browser-esm (\"+version+\")\"];function addAlgoliaAgent(e){-1===this._ua.indexOf(e)&&this._ua.push(e)}function getVersion(e){return isFunction(e)&&e(this.version),this.version}function __rest(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function addQueryId(e){return e.map(function(i){var r,e;return!isValidEventForQueryIdLookup(i)||(r=[],e=null==(e=i.objectIDs)?void 0:e.map(function(e,t){var n=null==(n=i.objectData)?void 0:n[t];return null!=n&&n.queryID?n:((t=(null!=(t=getQueryForObject(i.index,e))?t:[])[0])&&r.push(e),Object.assign(Object.assign({},n),{queryID:t}))}),0===r.length)?i:Object.assign(Object.assign({},i),{objectData:e,objectIDsWithInferredQueryID:r})})}function isValidEventForQueryIdLookup(e){return!e.queryID&&\"conversion\"===e.eventType}function makeSendEvents(r){return function(e,t){var i=this;if(this._userHasOptedOut)return Promise.resolve(!1);if(!(!isUndefined(this._apiKey)&&!isUndefined(this._appId)||(null==(n=null==t?void 0:t.headers)?void 0:n[\"X-Algolia-Application-Id\"])&&(null==(n=null==t?void 0:t.headers)?void 0:n[\"X-Algolia-API-Key\"])))throw new Error(\"Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters or provide custom credentials in additional parameters.\");!this._userToken&&this._anonymousUserToken&&this.setAnonymousUserToken(!0);var n=(null!=t&&t.inferQueryID?addQueryId(e):e).map(function(e){var t=e.filters,n=__rest(e,[\"filters\"]),e=Object.assign(Object.assign({},n),{userToken:null!=(n=null==e?void 0:e.userToken)?n:i._userToken,authenticatedUserToken:null!=(n=null==e?void 0:e.authenticatedUserToken)?n:i._authenticatedUserToken});return isUndefined(t)||(e.filters=t.map(encodeURIComponent)),e});return 0===n.length?Promise.resolve(!1):(e=sendRequest(r,this._ua,this._endpointOrigin,n,this._appId,this._apiKey,null==t?void 0:t.headers),isPromise(e)?e.then(purgePurchased(n)):e)}}function purgePurchased(t){return function(e){return e&&t.filter(function(e){var t=e.eventType,n=e.eventSubtype,e=e.objectIDs;return\"conversion\"===t&&\"purchase\"===n&&(null==e?void 0:e.length)}).forEach(function(e){return removeQueryForObjects(e.index,e.objectIDs)}),e}}function sendRequest(e,t,n,i,r,o,s){var a=(s=void 0===s?{}:s)[\"X-Algolia-Application-Id\"],c=s[\"X-Algolia-API-Key\"],s=__rest(s,[\"X-Algolia-Application-Id\",\"X-Algolia-API-Key\"]),u=Object.assign({\"X-Algolia-Application-Id\":null!=a?a:r,\"X-Algolia-API-Key\":null!=c?c:o,\"X-Algolia-Agent\":encodeURIComponent(t.join(\"; \"))},s);return e(n+\"/1/events?\"+Object.keys(u).map(function(e){return e+\"=\"+u[e]}).join(\"&\"),{events:i})}function createUUID(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)})}var COOKIE_KEY=\"_ALGOLIA\",MONTH=2592e6,setCookie=function(e,t,n){var i=new Date,n=(i.setTime(i.getTime()+n),\"expires=\"+i.toUTCString());document.cookie=e+\"=\"+t+\";\"+n+\";path=/\"},getCookie=function(e){for(var t=e+\"=\",n=document.cookie.split(\";\"),i=0;i<n.length;i++){for(var r=n[i];\" \"===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return\"\"};function checkIfAnonymousToken(e){return\"number\"!=typeof e&&0===e.indexOf(\"anonymous-\")}function saveTokenAsCookie(){var e=getCookie(COOKIE_KEY);!this._userToken||e&&\"\"!==e&&0===e.indexOf(\"anonymous-\")||setCookie(COOKIE_KEY,this._userToken,this._cookieDuration)}function setAnonymousUserToken(e){(e=void 0!==e&&e)?this.setUserToken(\"anonymous-\"+createUUID()):supportsCookies()&&((e=getCookie(COOKIE_KEY))&&\"\"!==e&&0===e.indexOf(\"anonymous-\")?this.setUserToken(e):(e=this.setUserToken(\"anonymous-\"+createUUID()),setCookie(COOKIE_KEY,e,this._cookieDuration)))}function setUserToken(e){return this._userToken=e,isFunction(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken),this._userToken}function getUserToken(e,t){return isFunction(t)&&t(null,this._userToken),this._userToken}function onUserTokenChange(e,t){this._onUserTokenChangeCallback=e,t&&t.immediate&&isFunction(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}function setAuthenticatedUserToken(e){return this._authenticatedUserToken=e,isFunction(this._onAuthenticatedUserTokenChangeCallback)&&this._onAuthenticatedUserTokenChangeCallback(this._authenticatedUserToken),this._authenticatedUserToken}function getAuthenticatedUserToken(e,t){return isFunction(t)&&t(null,this._authenticatedUserToken),this._authenticatedUserToken}function onAuthenticatedUserTokenChange(e,t){this._onAuthenticatedUserTokenChangeCallback=e,t&&t.immediate&&isFunction(this._onAuthenticatedUserTokenChangeCallback)&&this._onAuthenticatedUserTokenChangeCallback(this._authenticatedUserToken)}function addEventType(t,e){return e.map(function(e){return Object.assign({eventType:t},e)})}function addEventTypeAndSubtype(t,n,e){return e.map(function(e){return Object.assign({eventType:t,eventSubtype:n},e)})}function clickedObjectIDsAfterSearch(){for(var i=this,e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),r=n.events,n=n.additionalParams;return r.forEach(function(e){var t=e.index,n=e.queryID;return e.objectIDs.forEach(function(e){return!i._userHasOptedOut&&storeQueryForObject(t,e,n)})}),this.sendEvents(addEventType(\"click\",r),n)}function clickedObjectIDs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventType(\"click\",i),n)}function clickedFilters(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventType(\"click\",i),n)}function convertedObjectIDsAfterSearch(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventType(\"conversion\",i),n)}function addedToCartObjectIDsAfterSearch(){for(var o=this,e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return i.forEach(function(e){var n=e.index,i=e.queryID,t=e.objectIDs,r=e.objectData;return t.forEach(function(e,t){t=null!=(t=null==(t=null==r?void 0:r[t])?void 0:t.queryID)?t:i;!o._userHasOptedOut&&t&&storeQueryForObject(n,e,t)})}),this.sendEvents(addEventTypeAndSubtype(\"conversion\",\"addToCart\",i),n)}function purchasedObjectIDsAfterSearch(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventTypeAndSubtype(\"conversion\",\"purchase\",i),n)}function convertedObjectIDs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventType(\"conversion\",i),n)}function addedToCartObjectIDs(){for(var r=this,e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return i.forEach(function(e){var n=e.index,t=e.objectIDs,i=e.objectData;return t.forEach(function(e,t){t=null==(t=null==i?void 0:i[t])?void 0:t.queryID;!r._userHasOptedOut&&t&&storeQueryForObject(n,e,t)})}),this.sendEvents(addEventTypeAndSubtype(\"conversion\",\"addToCart\",i),n)}function purchasedObjectIDs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventTypeAndSubtype(\"conversion\",\"purchase\",i),n)}function convertedFilters(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventType(\"conversion\",i),n)}var SUPPORTED_REGIONS=[\"de\",\"us\"];function init(e){var t;if(!isUndefined((e=void 0===e?{}:e).region)&&-1===SUPPORTED_REGIONS.indexOf(e.region))throw new Error(\"optional region is incorrect, please provide either one of: \"+SUPPORTED_REGIONS.join(\", \")+\".\");if(!(isUndefined(e.cookieDuration)||isNumber(e.cookieDuration)&&isFinite(e.cookieDuration)&&Math.floor(e.cookieDuration)===e.cookieDuration))throw new Error(\"optional cookieDuration is incorrect, expected an integer.\");setOptions(this,e,{_userHasOptedOut:Boolean(e.userHasOptedOut),_region:e.region,_host:e.host,_anonymousUserToken:null==(t=e.anonymousUserToken)||t,_useCookie:null!=(t=e.useCookie)&&t,_cookieDuration:e.cookieDuration||6*MONTH}),this._endpointOrigin=this._host||(this._region?\"https://insights.\"+this._region+\".algolia.io\":\"https://insights.algolia.io\"),this._ua=[].concat(DEFAULT_ALGOLIA_AGENTS),e.authenticatedUserToken&&this.setAuthenticatedUserToken(e.authenticatedUserToken),e.userToken?this.setUserToken(e.userToken):this._userToken||this._userHasOptedOut||!this._useCookie?checkIfTokenNeedsToBeSaved(this)&&this.saveTokenAsCookie():this.setAnonymousUserToken()}function setOptions(e,t,n){var i=t.partial,r=__rest(t,[\"partial\"]);i||Object.assign(e,n),Object.assign(e,Object.keys(r).reduce(function(e,t){return Object.assign(Object.assign({},e),((e={})[\"_\"+t]=r[t],e))},{}))}function checkIfTokenNeedsToBeSaved(e){return void 0!==e._userToken&&checkIfAnonymousToken(e._userToken)&&e._useCookie&&!e._userHasOptedOut}function viewedObjectIDs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventType(\"view\",i),n)}function viewedFilters(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=extractAdditionalParams(e),i=n.events,n=n.additionalParams;return this.sendEvents(addEventType(\"view\",i),n)}var AlgoliaAnalytics=function(e){e=e.requestFn;this._endpointOrigin=\"https://insights.algolia.io\",this._anonymousUserToken=!0,this._userHasOptedOut=!1,this._useCookie=!1,this._cookieDuration=6*MONTH,this._ua=[],this.version=version,this.sendEvents=makeSendEvents(e).bind(this),this.init=init.bind(this),this.addAlgoliaAgent=addAlgoliaAgent.bind(this),this.saveTokenAsCookie=saveTokenAsCookie.bind(this),this.setUserToken=setUserToken.bind(this),this.setAnonymousUserToken=setAnonymousUserToken.bind(this),this.getUserToken=getUserToken.bind(this),this.onUserTokenChange=onUserTokenChange.bind(this),this.setAuthenticatedUserToken=setAuthenticatedUserToken.bind(this),this.getAuthenticatedUserToken=getAuthenticatedUserToken.bind(this),this.onAuthenticatedUserTokenChange=onAuthenticatedUserTokenChange.bind(this),this.clickedObjectIDsAfterSearch=clickedObjectIDsAfterSearch.bind(this),this.clickedObjectIDs=clickedObjectIDs.bind(this),this.clickedFilters=clickedFilters.bind(this),this.convertedObjectIDsAfterSearch=convertedObjectIDsAfterSearch.bind(this),this.purchasedObjectIDsAfterSearch=purchasedObjectIDsAfterSearch.bind(this),this.addedToCartObjectIDsAfterSearch=addedToCartObjectIDsAfterSearch.bind(this),this.convertedObjectIDs=convertedObjectIDs.bind(this),this.addedToCartObjectIDs=addedToCartObjectIDs.bind(this),this.purchasedObjectIDs=purchasedObjectIDs.bind(this),this.convertedFilters=convertedFilters.bind(this),this.viewedObjectIDs=viewedObjectIDs.bind(this),this.viewedFilters=viewedFilters.bind(this),this.getVersion=getVersion.bind(this)};function createInsightsClient(e){var t,e=getFunctionalInterface(new AlgoliaAnalytics({requestFn:e}));if(\"object\"==typeof window&&!window.AlgoliaAnalyticsObject){for(;t=createUUID(),void 0!==window[t];);window.AlgoliaAnalyticsObject=t,window[window.AlgoliaAnalyticsObject]=e}return e.version=version,e}function processQueue(e){var n,t=e.AlgoliaAnalyticsObject;t&&(n=getFunctionalInterface(this),(e=e[t]).queue=e.queue||[],(t=e.queue).forEach(function(e){var e=[].slice.call(e),t=e[0],e=e.slice(1);n.apply(void 0,[t].concat(e))}),t.push=function(e){var e=[].slice.call(e),t=e[0],e=e.slice(1);n.apply(void 0,[t].concat(e))})}var requestWithXMLHttpRequest=function(r,o){return new Promise(function(e,t){var n=JSON.stringify(o),i=new XMLHttpRequest;i.addEventListener(\"readystatechange\",function(){4===i.readyState&&200===i.status?e(!0):4===i.readyState&&e(!1)}),i.addEventListener(\"error\",function(){return t()}),i.addEventListener(\"timeout\",function(){return e(!1)}),i.open(\"POST\",r),i.setRequestHeader(\"Content-Type\",\"application/json\"),i.send(n)})},requestWithSendBeacon=function(e,t){var n=JSON.stringify(t),n=navigator.sendBeacon(e,n);return Promise.resolve(!!n||requestWithXMLHttpRequest(e,t))},requestWithNativeFetch=function(e,i){return new Promise(function(t,n){fetch(e,{method:\"POST\",body:JSON.stringify(i),headers:{\"Content-Type\":\"application/json\"}}).then(function(e){t(200===e.status)}).catch(function(e){n(e)})})};function getRequesterForBrowser(){if(supportsSendBeacon())return requestWithSendBeacon;if(supportsXMLHttpRequest())return requestWithXMLHttpRequest;if(supportsNativeFetch())return requestWithNativeFetch;throw new Error(\"Could not find a supported HTTP request client in this environment.\")}var entryBrowser=createInsightsClient(getRequesterForBrowser());export{AlgoliaAnalytics,LocalStorage,createInsightsClient,entryBrowser as default,getFunctionalInterface,getRequesterForBrowser,processQueue};\n","export * from \"./dist/search-insights-browser.mjs\";\nimport aa from \"./dist/search-insights-browser.mjs\";\nexport default aa;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './js/wds-algolia-search-pro';"],"names":["aa","debugLog","debugFormSubmission","extractProductData","element","fragments","elementType","tagName","elementClasses","className","productData","product_id","quantity","price","name","variation_id","HTMLFormElement","addToCartInput","querySelector","addToCartButton","productIdInput","value","quantityInput","parseInt","variationInput","jQuery","data","dataset","closest","product","priceElem","parseFloat","textContent","replace","priceElemVariation","nameElem","trim","cart_item_data","cartItem","product_name","products","title","error","formatEventData","wpswapWCData","currency","eventData","eventName","index","algolia_index_name_prefix","objectIDs","toString","objectData","queryID","window","lastQueryID","logAddToCartEvent","Promise","resolve","reject","algolia","insights_enabled","storeCartEventData","sessionStorage","setItem","JSON","stringify","processStoredCartEvents","storedEvent","getItem","parse","removeItem","bindAddToCartEvent","addedToCartFired","document","body","on","event","cart_hash","$button","buttonElement","get","button","e","startTime","Date","now","classes","isAjax","hasClass","productId","val","setTimeout","type","lastClickedButton","addEventListener","target","preventDefault","href","getAttribute","location","click","form","classList","contains","submit","extractCheckoutData","cartData","items","subtotal","total","console","log","wpswapWCProducts","Object","entries","map","key","id","sku","categories","cartItems","length","item","priceText","find","first","text","checkoutData","eventType","logCheckoutEvent","warn","bindCheckoutEvent","$","hasLoggedCheckout","logCheckoutWithDebounce","trackCartRemoval","userToken","debug","initializeTracking","selectors","removeButton","join","bindRemoveFromCartEvent","readyState","message","prefix","formAction","action","formMethod","method","formElements","elements","initWooCommerceEvents","application_id","search_api_key","products_index","appId","apiKey"],"sourceRoot":""}
function xContentTimeline(){let e=function(e,t){let n=!1,i=!1,r=!1,l=!1,o,c,a,s,m,d,x,u,f,y=window.innerHeight,g,p;function q(e,t,n,i,r){n+t<t+r/(c=2)-i/2?(e.classList.add("x-content-timeline_active"),e.dispatchEvent(new Event("x_timeline_item:active"))):(e.classList.remove("x-content-timeline_active"),e.dispatchEvent(new Event("x_timeline_item:inactive")))}function S(e,t,r){let l=e.querySelector(".x-content-timeline_item:first-of-type"),o=e.querySelector(".x-content-timeline_item:last-of-type"),g=e.querySelector(".x-content-timeline_line"),p=e.querySelector(".x-content-timeline_line-active");if(!o){let q=e.querySelectorAll(".x-content-timeline_item");o=q[q.length-1]}if(l&&o&&g&&p){if(!1===i&&(u=l.querySelector(".x-content-timeline_marker-inner").offsetHeight,f=o.querySelector(".x-content-timeline_marker-inner").offsetHeight,y=window.innerHeight,i=!0),c=2,a=t+l.querySelector(".x-content-timeline_marker-inner").getBoundingClientRect().top+f-2,s=1/(t+o.querySelector(".x-content-timeline_marker-inner").getBoundingClientRect().top+f-2-a),x=100*(d=(m=t-a+y/c)*s),d<0||isNaN(parseFloat(d))?e.style.setProperty("--x-timeline-progress","0"):0<=d&&d<=1?e.style.setProperty("--x-timeline-progress",x):e.style.setProperty("--x-timeline-progress","100"),n&&"scroll"===r)return;n=!0,"resize"===r&&(n=!1),setTimeout(()=>{g.style.opacity="0",g.style.top=l.querySelector(".x-content-timeline_marker").getBoundingClientRect().top+l.querySelector(".x-content-timeline_marker").offsetHeight/2-e.getBoundingClientRect().top+"px",g.style.bottom=e.getBoundingClientRect().bottom-o.querySelector(".x-content-timeline_marker").getBoundingClientRect().bottom+o.querySelector(".x-content-timeline_marker").offsetHeight/2+"px",g.style.left=l.querySelector(".x-content-timeline_marker").getBoundingClientRect().left+l.querySelector(".x-content-timeline_marker").offsetWidth/2-e.getBoundingClientRect().left+"px",g.style.opacity="1",n=!1,i=!1},50)}}function h(){o=window.scrollY,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"]').forEach(e=>{S(e,o,"scroll")}),!r&&(r=!0,setTimeout(()=>{y=window.innerHeight,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"][data-x-scroll="true"] .x-content-timeline_item').forEach(e=>{p=e.querySelector(".x-content-timeline_marker-inner").getBoundingClientRect().top,g=e.querySelector(".x-content-timeline_marker-inner").offsetHeight,q(e,o,p,g,y)}),r=!1},150))}function $(){o=window.scrollY,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"]').forEach(e=>{S(e,o,"resize")}),!l&&(l=!0,setTimeout(()=>{y=window.innerHeight,document.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"][data-x-scroll="true"] .x-content-timeline_item').forEach(e=>{p=e.getBoundingClientRect().top,g=e.offsetHeight,q(e,o,p,g,y)}),l=!1},250))}window.addEventListener("scroll",function e(t){requestAnimationFrame(h)},!1),window.addEventListener("resize",function e(t){requestAnimationFrame($)},!1),e.querySelectorAll('.brxe-xcontenttimeline[data-x-horizontal="false"]').forEach(e=>{setTimeout(()=>{e.querySelector(".x-content-timeline_list").classList.add("x-content-timeline_ready"),S(e)},200)})};function t(t){if(void 0===t.detail.queryId){if(void 0===t.detail.popupElement)return;e(t.detail.popupElement)}setTimeout(()=>{document.querySelector(".brxe-"+t.detail.queryId)&&e(document.querySelector(".brxe-"+t.detail.queryId).parentElement)},0)}e(document,ajax=!1),document.addEventListener("bricks/ajax/load_page/completed",t),document.addEventListener("bricks/ajax/pagination/completed",t),document.addEventListener("bricks/ajax/popup/loaded",t),document.addEventListener("bricks/ajax/end",t),window.doExtrasTimeline=e}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xContentTimeline()});
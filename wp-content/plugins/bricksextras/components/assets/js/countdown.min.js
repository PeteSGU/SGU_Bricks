function xCountdown(){var e=function(e=0,[t=0,n=0,o=0,r=0]){let i=new Date(function e(t){let n=new Date(parseInt(t)),o=n.toISOString();return o}(e));return i.setTime(i.getTime()+864e5*t),i.setTime(i.getTime()+36e5*n),i.setTime(i.getTime()+6e4*o),i.setTime(i.getTime()+1e3*r),i},t=function(t,n,o,r){let i,a=0;if("evergreen"!==n.mode){if(n.hasOwnProperty("date")){let d=6e4*(("+"===n.timezone[3]?1:-1)*(60*parseInt(n.timezone.substring(4,6))+parseInt(n.timezone.substring(7,9)))),c=-(6e4*new Date().getTimezoneOffset()),s=n.date.replace(" ","T");a=new Date(s).getTime()+c-d-new Date().getTime()}}else{let u={days:0,hours:0,minutes:0,seconds:0};n.fields.forEach(function(e,t){e.value&&(u[e.type]=parseFloat(e.value))}),i=e(r,Object.values(u)),a=new Date(i).getTime()-new Date().getTime()}if(a<=0&&"countUp"!==n.action){if(!document.querySelector("body > .brx-body.iframe")){if(t.dispatchEvent(new Event("x_countdown:ended")),clearInterval(t.dataset.bricksCountdownId),"hide"===n.action)return void(t.innerHTML="");if("text"===n.action)return void(t.innerHTML=n.actionText);"sync"===n.action&&(t.closest(".x-modal")&&"function"==typeof xCloseModal&&xCloseModal(t.closest(".x-modal").id),t.closest(".brxe-xnotificationbar")&&"function"==typeof xCloseNotification&&xCloseNotification("#"+t.closest(".brxe-xnotificationbar").id)),"redirect"!==n.action||("disable"===n.preventRedirect?window.location.href=n.redirectURL:document.querySelector("body.admin-bar")||(window.location.href=n.redirectURL))}}else{o&&(t.innerHTML="",n.fields.forEach(function(e){if(e.format){var o=document.createElement("div");if(o.classList.add("x-countdown_item"),e.prefix){var r=document.createElement("span");r.classList.add("x-countdown_prefix"),r.innerHTML=e.prefix,o.appendChild(r)}var i=document.createElement("span");if(i.classList.add("x-countdown_format"),o.appendChild(i),e.suffix){var a=document.createElement("span");a.classList.add("x-countdown_suffix"),a.innerHTML=e.suffix,o.appendChild(a)}if(t.appendChild(o),null!=n.seperator){var d=document.createElement("div");d.classList.add("x-countdown_seperator"),d.innerHTML=n.seperator,o.before(d),t.querySelector(".x-countdown_seperator:first-child")&&t.querySelector(".x-countdown_seperator:first-child").remove()}}}));var l=bricksQuerySelectorAll(t,".x-countdown_item"),f=Math.floor(a/864e5),m=Math.floor(a%864e5/36e5),p=Math.floor(a%36e5/6e4),$=Math.floor(a%6e4/1e3);"countUp"===n.action&&a<0&&(f=Math.round(a/864e5),m=Math.round(a%864e5/36e5),p=Math.round(a%36e5/6e4),$=Math.round(a%6e4/1e3),f=Math.abs(f),m=Math.abs(m),p=Math.abs(p),$=Math.abs($)),f=isNaN(f)?0:f,m=isNaN(m)?0:m,p=isNaN(p)?0:p,$=isNaN($)?0:$,n.fields.forEach(function(e,t){if(e.format){var o=e.format.toLowerCase();o.includes("%d")?(e.format.includes("%D")&&f<=9&&(f="0".concat(f)),l[t].querySelector(".x-countdown_format").innerHTML=o.replace("%d",a<=0&&"countUp"!==n.action?0:"<span class=x-countdown_number>"+f+"</span>")):o.includes("%h")?(e.format.includes("%H")&&m<=9&&(m="0".concat(m)),l[t].querySelector(".x-countdown_format").innerHTML=o.replace("%h",a<=0&&"countUp"!==n.action?0:"<span class=x-countdown_number>"+m+"</span>")):o.includes("%m")?(e.format.includes("%M")&&p<=9&&(p="0".concat(p)),l[t].querySelector(".x-countdown_format").innerHTML=o.replace("%m",a<=0&&"countUp"!==n.action?0:"<span class=x-countdown_number>"+p+"</span>")):o.includes("%s")&&(e.format.includes("%S")&&$<=9&&($="0".concat($)),l[t].querySelector(".x-countdown_format").innerHTML=o.replace("%s",a<=0&&"countUp"!==n.action?0:"<span class=x-countdown_number>"+$+"</span>"))}})}};let n=function(n){let o=new Date().getTime();bricksQuerySelectorAll(n,".brxe-xcountdown").forEach(n=>{let r=n.getAttribute("data-x-id"),i;localStorage&&localStorage["x-countdown-"+r+"-first-shown-time"]?i=JSON.parse(localStorage["x-countdown-"+r+"-first-shown-time"]):(localStorage&&(localStorage["x-countdown-"+r+"-first-shown-time"]=JSON.stringify(o)),i=JSON.stringify(o)),document.querySelector(".brx-body.iframe")&&(localStorage&&(localStorage["x-countdown-"+r+"-first-shown-time"]=JSON.stringify(o)),i=JSON.stringify(new Date().getTime()));var a=n.getAttribute("data-x-countdown");try{a=JSON.parse(a)}catch(d){return!1}if(localStorage){let c,s={days:0,hours:0,minutes:0,seconds:0};a.fields.forEach(function(e,t){e.value&&(s[e.type]=parseFloat(e.value))}),c=e(i,Object.values(s)),localStorage&&(localStorage["x-countdown-"+r+"-end-times"]=new Date(c).getTime())}if(a.hasOwnProperty("fields")){var u=n.dataset.XCountdownId;u&&clearInterval(u),t(n,a,!0,i),u=setInterval(t,1e3,n,a,!1,i),n.dataset.XCountdownId=u,n.addEventListener("x_countdown:ended",()=>{clearInterval(u)})}})};function o(e){if(void 0===e.detail.queryId){if(void 0===e.detail.popupElement)return;n(e.detail.popupElement)}setTimeout(()=>{document.querySelector(".brxe-"+e.detail.queryId)&&n(document.querySelector(".brxe-"+e.detail.queryId).parentElement)},0)}n(document),document.addEventListener("bricks/ajax/load_page/completed",o),document.addEventListener("bricks/ajax/pagination/completed",o),document.addEventListener("bricks/ajax/popup/loaded",o),document.addEventListener("bricks/ajax/end",o),window.doExtrasCountdown=n}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xCountdown()});
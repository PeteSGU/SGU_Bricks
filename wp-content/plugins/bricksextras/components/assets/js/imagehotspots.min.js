function xImageHotspots(){let e=function(e){bricksQuerySelectorAll(e,".brxe-ximagehotspots").forEach(e=>{let t=e.getAttribute("data-x-hotspots"),r=t?JSON.parse(t):{};e.querySelectorAll(".x-marker").forEach((t,o)=>{if(t.querySelector(".x-marker_marker-trigger")){let i="BUTTON"==t.querySelector(".x-marker_marker-trigger").tagName?r.interaction:"mouseenter focus",n="BUTTON"==t.querySelector(".x-marker_marker-trigger").tagName,c=tippy(t.querySelector(".x-marker_marker-trigger"),{content:t.querySelector(".x-marker_popover-content"),allowHTML:!0,interactive:n,arrow:!0,trigger:i,appendTo:t.querySelector(".x-marker_popover"),placement:r.placement,maxWidth:"none",animation:"extras",theme:"extras",touch:!0,moveTransition:"transform "+r.moveTransition+"ms ease-out",offset:[r.offsetSkidding,r.offsetDistance],onShow(e){t.addEventListener("keydown",function(t){("Escape"===t.key||"Esc"===t.key)&&e.hide()}),!(r.moveFocus&&t.querySelector(".tippy-content"))||t.querySelector(".tippy-content a[href]:first-child")||t.querySelector(".tippy-content h1:first-child > a[href]")||t.querySelector(".tippy-content h2:first-child > a[href]")||t.querySelector(".tippy-content h3:first-child > a[href]")||t.querySelector(".tippy-content h4:first-child > a[href]")||t.querySelector(".tippy-content h5:first-child > a[href]")||t.querySelector(".tippy-content h6:first-child > a[href]")||t.querySelector(".tippy-content button:first-child")||t.querySelector(".tippy-content input:first-child")||t.querySelector(".tippy-content textarea:first-child")||t.querySelector(".tippy-content select:first-child")||t.querySelector(".tippy-content details:first-child")||t.querySelector('.tippy-content [tabindex]:not([tabindex="-1"]:first-child')||t.querySelector(".tippy-content").addEventListener("blur",function(t){e.hide()})},onShown(i){t.querySelectorAll("[data-x-close]").forEach(e=>{e.addEventListener("click",()=>{i.hide()})}),t.dispatchEvent(new Event("x_popover:show")),e.dispatchEvent(new Event("x_image_hotspot:selected_"+o)),r.moveFocus&&t.querySelector("button.x-marker_marker")&&t.querySelector("button.x-marker_marker").addEventListener("keydown",function(e){!("Tab"===e.code&&!e.shiftKey&&t.querySelector(".tippy-content .x-marker_popover-content"))||(t.querySelector(".tippy-content").setAttribute("tabindex","0"),t.querySelector(".tippy-content a[href]:first-child")||t.querySelector(".tippy-content h1:first-child > a[href]")||t.querySelector(".tippy-content h2:first-child > a[href]")||t.querySelector(".tippy-content h3:first-child > a[href]")||t.querySelector(".tippy-content h4:first-child > a[href]")||t.querySelector(".tippy-content h5:first-child > a[href]")||t.querySelector(".tippy-content h6:first-child > a[href]")||t.querySelector(".tippy-content button:first-child")||t.querySelector(".tippy-content input:first-child")||t.querySelector(".tippy-content textarea:first-child")||t.querySelector(".tippy-content select:first-child")||t.querySelector(".tippy-content details:first-child")||t.querySelector('.tippy-content [tabindex]:not([tabindex="-1"]:first-child')||(e.preventDefault(),t.querySelector(".tippy-content").focus()))})}});t.querySelector("a.x-marker_marker")&&t.querySelector("a.x-marker_marker").addEventListener("click",()=>{e.dispatchEvent(new Event("x_image_hotspot:selected_"+o))}),window.xHotspots.Instances[t.dataset.xId]=c,t.querySelector(".x-marker_marker")&&t.querySelector(".x-marker_marker").addEventListener("focus",()=>{tippy.hideAll({exclude:c})})}})})};function t(t){if(void 0===t.detail.queryId){if(void 0===t.detail.popupElement)return;e(t.detail.popupElement)}setTimeout(()=>{document.querySelector(".brxe-"+t.detail.queryId)&&e(document.querySelector(".brxe-"+t.detail.queryId).parentElement)},0)}e(document),document.addEventListener("bricks/ajax/load_page/completed",t),document.addEventListener("bricks/ajax/pagination/completed",t),document.addEventListener("bricks/ajax/popup/loaded",t),document.addEventListener("bricks/ajax/end",t),window.doExtrasImageHotspots=e}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xImageHotspots()});
function xLottie(){let e=function(e,t=!1){e.querySelectorAll(".brxe-xlottie").forEach(e=>{if(document.querySelector("body > .brx-body.iframe"))o();else{let r=(t,r)=>{for(let i of t)i.isIntersecting&&(o(),r.unobserve(e))},i=new IntersectionObserver(r,{root:null,rootMargin:"0px 0px 50px 0px",threshold:1});i.observe(e)}function o(){let r=e.getAttribute("data-x-lottie"),i=r?JSON.parse(r):{};(t||document.querySelector("body > .brx-body.iframe"))&&lottie.destroy(e.getAttribute("data-x-id"));let o=parseInt(i.start),a=parseInt(i.end),n=parseInt(i.offsetB)/100,l=1-parseInt(i.offsetT)/100,c=lottie.loadAnimation({container:e,name:e.getAttribute("data-x-id"),renderer:"svg",loop:null!=i.loop&&i.loop,autoplay:null!=i.autoPlay&&i.autoPlay,initialSegment:[o,a],path:i.url});c.setSpeed(parseFloat(i.speed));let d=!1;if("click"===i.trigger||"clickSelector"===i.trigger){let s=e;"clickSelector"===i.trigger&&(s=document.querySelector(i.clickSelector)),s&&(!0!==i.rev?"clickSelector"!==i.trigger?LottieInteractivity.create({player:c,mode:"cursor",actions:[{type:"click"}]}):s.addEventListener("click",function(e){e.preventDefault(),c.goToAndPlay(o)}):s.addEventListener("click",function(e){e.preventDefault(),(d=!d)?(c.setDirection(1),c.play()):(c.setDirection(-1),c.play())}))}if("scroll"===i.trigger||"scrollSelector"===i.trigger){let u="scroll"===i.trigger?e:i.scrollSelector;LottieInteractivity.create({mode:"scroll",player:c,container:u,actions:[{visibility:[0,n],type:"stop",frames:[o]},{visibility:[n,l],type:"seek",frames:[o,a]},{visibility:[l,1],type:"stop",frames:[a]}]})}if("hover"===i.trigger){let p=i.hoverReverse?"hold":"hover";LottieInteractivity.create({player:c,mode:"cursor",actions:[{type:p}]})}"hoverSelector"===i.trigger&&(document.querySelector(i.hoverSelector)&&document.querySelector(i.hoverSelector).addEventListener("mouseenter",function(e){c.setDirection(1),c.goToAndPlay(o)}),i.hoverReverse&&document.querySelector(i.hoverSelector)&&document.querySelector(i.hoverSelector).addEventListener("mouseleave",function(e){c.setDirection(-1),c.play()})),"cursor"===i.trigger&&LottieInteractivity.create({player:c,mode:"cursor",actions:[{position:{x:[0,1],y:[0,1]},type:"seek",frames:[o,a]}]}),c.addEventListener("complete",()=>{e.dispatchEvent(new Event("x_lottie:complete"))}),window.xLottieAnimation&&(window.xLottieAnimation.Instances[e.dataset.xId]=c)}})};function t(t){if(void 0===t.detail.queryId){if(void 0===t.detail.popupElement)return;e(t.detail.popupElement,!0)}setTimeout(()=>{document.querySelector(".brxe-"+t.detail.queryId)&&e(document.querySelector(".brxe-"+t.detail.queryId).parentElement,!0)},0)}e(document),document.addEventListener("bricks/ajax/load_page/completed",t),document.addEventListener("bricks/ajax/pagination/completed",t),document.addEventListener("bricks/ajax/popup/loaded",t),document.addEventListener("bricks/ajax/end",t),window.doExtrasLottie=e,"undefined"!=typeof bricksextras&&(bricksextras.lottie={play(e){let t=e?.target||!1;t&&null!=window.xLottieAnimation.Instances[t.getAttribute("data-x-id")]&&(window.xLottieAnimation.Instances[t.getAttribute("data-x-id")].setDirection(1),lottie.play(t.getAttribute("data-x-id")))},reverse(e){let t=e?.target||!1;t&&null!=window.xLottieAnimation.Instances[t.getAttribute("data-x-id")]&&(window.xLottieAnimation.Instances[t.getAttribute("data-x-id")].setDirection(-1),lottie.play(t.getAttribute("data-x-id")))},stop(e){let t=e?.target||!1;t&&null!=window.xLottieAnimation.Instances[t.getAttribute("data-x-id")]&&lottie.stop(t.getAttribute("data-x-id"))}})}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xLottie()});
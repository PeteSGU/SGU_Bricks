function xSlideMenu(){let e=function(e){e.querySelectorAll(".brxe-xslidemenu").forEach(e=>{let i=e.getAttribute("data-x-slide-menu"),l=i?JSON.parse(i):{},r=document.querySelector(".brx-body.iframe"),d=l.slideDuration;if(e.querySelectorAll(".menu-item-has-children > a").forEach(t=>{t.querySelector(".x-slide-menu_dropdown-icon")&&t.querySelector(".x-slide-menu_dropdown-icon").remove();var n=document.createElement("button");n.setAttribute("aria-expanded","false"),n.setAttribute("class","x-slide-menu_dropdown-icon"),n.setAttribute("aria-label",l.subMenuAriaLabel),t.append(n),e.querySelector(".x-sub-menu-icon")?n.innerHTML+=e.querySelector(".x-sub-menu-icon").innerHTML:n.innerHTML+='<svg class="x-slide-menu_dropdown-icon-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/>',n.addEventListener("click",function e(t){t.preventDefault(),t.stopPropagation();let n=this.closest(".menu-item-has-children");this.setAttribute("aria-expanded","true"===this.getAttribute("aria-expanded")?"false":"true"),n.lastElementChild.xslideToggle(d);Array.from(n.parentElement.children).filter(e=>e.textContent!==n.textContent).forEach(e=>{e.classList.contains("menu-item-has-children")&&(e.lastElementChild.xslideUp(d),e.children[0].lastElementChild.setAttribute("aria-expanded","false"))})})}),l.maybeExpandActive&&e.querySelector(".current-menu-ancestor > a > .x-slide-menu_dropdown-icon")){let a=e.querySelector(".current-menu-ancestor");a&&a.querySelector(".sub-menu")&&a.querySelector("a > .x-slide-menu_dropdown-icon")&&(a.querySelector(".sub-menu").xslideDown(0),a.querySelector("a > .x-slide-menu_dropdown-icon").setAttribute("aria-expanded","true"))}if(e.querySelectorAll('.menu-item-has-children > a[href*="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.querySelector(".x-slide-menu_dropdown-icon").click()}),null!=l.clickSelector&&document.querySelectorAll(l.clickSelector).length&&e.querySelectorAll('.menu-item:not(.menu-item-has-children) > a[href*="#"]').forEach(e=>{!r&&e.addEventListener("click",function(e){document.querySelector(l.clickSelector).click()})})}),null!=l.clickSelector&&document.querySelectorAll(l.clickSelector).length){let o=!1;function c(e){if("Escape"===e.key||"Esc"===e.key){document.querySelector(l.clickSelector).click();return}e.target.closest(".x-slide-menu_open")||e.target.closest(l.clickSelector)||document.querySelector(l.clickSelector).click()}r||document.querySelectorAll(l.clickSelector).forEach(i=>{i.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),(o=!o)?(e.classList.add("x-slide-menu_open"),t(e.getAttribute("data-x-id")),document.addEventListener("keydown",c),document.addEventListener("click",c)):(e.classList.remove("x-slide-menu_open"),n(e.getAttribute("data-x-id")),document.removeEventListener("keydown",c),document.removeEventListener("click",c))})})}})};function t(e){let t=document.querySelector('.brxe-xslidemenu[data-x-id="'+e+'"]');if(!t)return;let n=t.getAttribute("data-x-slide-menu"),i=n?JSON.parse(n):{};t.xslideDown(i.slideDuration),t.dispatchEvent(new Event("x_slide_menu:expand"))}function n(e){let t=document.querySelector('.brxe-xslidemenu[data-x-id="'+e+'"]');if(!t)return;let n=t.getAttribute("data-x-slide-menu"),i=n?JSON.parse(n):{};t.xslideUp(i.slideDuration),t.dispatchEvent(new Event("x_slide_menu:collapse"))}function i(t){if(void 0===t.detail.queryId){if(void 0===t.detail.popupElement)return;e(t.detail.popupElement,!0)}setTimeout(()=>{document.querySelector(".brxe-"+t.detail.queryId)&&e(document.querySelector(".brxe-"+t.detail.queryId).parentElement)},0)}e(document),document.addEventListener("bricks/ajax/load_page/completed",i),document.addEventListener("bricks/ajax/pagination/completed",i),document.addEventListener("bricks/ajax/popup/loaded",i),document.addEventListener("bricks/ajax/end",i),window.doExtrasSlideMenu=e,window.xOpenSlideMenu=t,window.xCloseSlideMenu=n,"undefined"!=typeof bricksextras&&(bricksextras.slidemenu={expand(e){let n=e?.target||!1;n&&n.hasAttribute("data-x-id")&&"none"===window.getComputedStyle(n,null).display&&t(n.getAttribute("data-x-id"))},collapse(e){let t=e?.target||!1;t&&t.hasAttribute("data-x-id")&&"none"!==window.getComputedStyle(t,null).display&&n(t.getAttribute("data-x-id"))},toggle(e){let i=e?.target||!1;i&&i.hasAttribute("data-x-id")&&("none"===window.getComputedStyle(i,null).display?t(i.getAttribute("data-x-id")):n(i.getAttribute("data-x-id")))}})}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xSlideMenu()});
function xToggleSwitch(){function e(e,t){e&&(e.style.left=`${t.offsetLeft}px`,e.style.width=`${t.offsetWidth+1}px`,e.style.height=`${t.offsetHeight+1}px`,e.style.top=`${t.offsetTop}px`)}let t=function(t){t.querySelectorAll(".x-toggle-switch").forEach(l=>{let c=l.getAttribute("data-x-switch"),o;if(document.querySelector("body > .brx-body.iframe")){let i=c.match(/{[^{}]*}/g);o=i.length?JSON.parse(i[length]):{}}else o=c?JSON.parse(c):{};let r=null!=o.isLooping,s="section"!==o.contentSwitcher&&o.contentSwitcher,n;if(s?n=t.querySelectorAll(s+" .x-content-switcher_content"):r?l.closest(".brxe-"+o.isLooping)&&(n=l.closest(".brxe-"+o.isLooping).querySelectorAll(".x-content-switcher_content")):l.closest("section")&&(n=l.closest("section").querySelectorAll(".x-content-switcher_content")),n.forEach(e=>{let t=e.parentElement.getAttribute("data-x-id");e.querySelectorAll(".x-content-switcher_block").forEach((e,c)=>{e.hasAttribute("id")||e.setAttribute("id",t+"_"+c),"multiple"===o.type&&(e.setAttribute("role","tabpanel"),e.setAttribute("tabindex","0"),l.querySelectorAll(".x-toggle-switch_labels .x-toggle-switch_label").forEach((t,l)=>{c===l&&(t.setAttribute("aria-controls",(t.getAttribute("aria-controls")||"")+" "+e.id),e.setAttribute("aria-labelledby",t.id))}))})}),"double"===o.type){function g(e){!document.querySelector("body > .brx-body.iframe")&&(s?n=t.querySelectorAll(s+" .x-content-switcher_content"):r?e.target.closest(".brxe-"+o.isLooping)&&(n=e.target.closest(".brxe-"+o.isLooping).querySelectorAll(".x-content-switcher_content")):e.target.closest("section")&&(n=e.target.closest("section").querySelectorAll(".x-content-switcher_content")),n.forEach(e=>{e.hasAttribute("data-x-switcher")&&e.removeAttribute("data-x-switcher"),e.classList.contains("x-content-switcher_toggled")?e.classList.remove("x-content-switcher_toggled"):e.classList.add("x-content-switcher_toggled")}))}l.querySelector(".x-toggle-switch_switch")&&l.querySelector(".x-toggle-switch_switch").addEventListener("click",e=>{l.dispatchEvent(new Event("x_toggle_switch:change")),l.querySelector(".x-toggle-switch_switch").classList.contains("x-toggle-switch_toggled")?(l.dispatchEvent(new Event("x_toggle_switch:unchecked")),l.querySelector(".x-toggle-switch_switch").classList.remove("x-toggle-switch_toggled")):(l.querySelector(".x-toggle-switch_switch").classList.add("x-toggle-switch_toggled"),l.dispatchEvent(new Event("x_toggle_switch:checked"))),g(e)}),l.querySelectorAll('input[type="radio"]').forEach(e=>{e.addEventListener("keydown",e=>{("Space"===e.code||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowLeft"===e.key||"ArrowDown"===e.key)&&(e.preventDefault(),l.dispatchEvent(new Event("x_toggle_switch:change")),l.querySelector(".x-toggle-switch_switch").classList.contains("x-toggle-switch_toggled")?(l.dispatchEvent(new Event("x_toggle_switch:unchecked")),l.querySelector(".x-toggle-switch_switch").classList.remove("x-toggle-switch_toggled"),l.querySelector("input.x-toggle-switch_left-input").checked=!0,l.querySelector("input.x-toggle-switch_left-input").focus()):(l.querySelector(".x-toggle-switch_switch").classList.add("x-toggle-switch_toggled"),l.dispatchEvent(new Event("x_toggle_switch:checked")),l.querySelector("input.x-toggle-switch_right-input").checked=!0,l.querySelector("input.x-toggle-switch_right-input").focus()),g(e))})})}else{let a=0,d=l.querySelectorAll(".x-toggle-switch_label");l.querySelector(".x-toggle-switch_labels")&&l.querySelector(".x-toggle-switch_labels").addEventListener("keydown",e=>{(39===e.keyCode||37===e.keyCode)&&(d[a].setAttribute("tabindex",-1),39===e.keyCode?++a>=d.length&&(a=0):37===e.keyCode&&--a<0&&(a=d.length-1),d[a].setAttribute("tabindex",0),d[a].focus())}),l.addEventListener("click",c=>{if(!c.target||"x-toggle-switch_label"==!c.target.className||"BUTTON"!==c.target.tagName)return;l.dispatchEvent(new Event("x_toggle_switch:change"));let i=c.target.closest(".x-toggle-switch_labels");for(let g of i.children)g.classList.contains("x-toggle-switch_label")&&(g.classList.remove("x-toggle-switch_label-active"),g.setAttribute("aria-selected","false"),g.setAttribute("tabindex","-1"));c.target.classList.add("x-toggle-switch_label-active"),c.target.setAttribute("aria-selected","true"),c.target.setAttribute("tabindex","0"),e(i.parentNode.querySelector(".x-toggle-switch_multiple-slider"),c.target);let a=Array.prototype.indexOf.call(c.target.parentNode.children,c.target)+1;if(document.querySelector("body > .brx-body.iframe"))return;s?n=t.querySelectorAll(s+" .x-content-switcher_content"):r?c.target.closest(".brxe-"+o.isLooping)&&(n=c.target.closest(".brxe-"+o.isLooping).querySelectorAll(".x-content-switcher_content")):c.target.closest("section")&&(n=c.target.closest("section").querySelectorAll(".x-content-switcher_content"));let d=c.target.closest(".x-toggle-switch").getAttribute("data-script-id");l.dispatchEvent(new Event("x_toggle_switch:toggled_"+a)),n.forEach(e=>{e.classList.contains("x-content-switcher_toggled")?e.classList.remove("x-content-switcher_toggled"):e.setAttribute("data-x-switcher",a+"_"+d)})}),e(l.querySelector(".x-toggle-switch_multiple-slider"),l.querySelector(".x-toggle-switch_label-active"))}if(l.querySelector("button.x-toggle-switch_label")&&"function"==typeof ResizeObserver){let h=new ResizeObserver(t=>{for(let c of t)e(l.querySelector(".x-toggle-switch_multiple-slider"),l.querySelector(".x-toggle-switch_label-active"))});h.observe(l.querySelector(".x-toggle-switch_labels"),{box:"border-box"})}})};function l(e){if(void 0===e.detail.queryId){if(void 0===e.detail.popupElement)return;t(e.detail.popupElement)}setTimeout(()=>{document.querySelector(".brxe-"+e.detail.queryId)&&t(document.querySelector(".brxe-"+e.detail.queryId).parentElement)},0)}t(document),document.addEventListener("bricks/ajax/load_page/completed",l),document.addEventListener("bricks/ajax/pagination/completed",l),document.addEventListener("bricks/ajax/popup/loaded",l),document.addEventListener("bricks/ajax/end",l),window.doExtrasToggleSwitch=t}document.addEventListener("DOMContentLoaded",function(e){!document.querySelector("body > .brx-body.iframe")&&bricksIsFrontend&&xToggleSwitch()});
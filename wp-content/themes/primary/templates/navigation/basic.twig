{#
	{% include '@navigation-basic' with {
		class: 'class',
		modifier: 'modifier',
		title: 'Title',
		active_index: '',
		links: [{ 'title': 'Page Title', 'url': '#', 'children': [] }],
		icon: 'icon_item',
		child_icon: 'icon_child'
	} %}
#}

{% set id = uniqid('basic_nav_title') %}

<nav class="{{ class }}_nav{% if modifier %} {{ class }}_nav_{{ modifier }}{% endif %}" aria-labelledby="{{ id }}">
	<div class="{{ class }}_nav_header">
		<h2 class="{{ class }}_nav_title" id="{{ id }}">{{ title }}</h2>
	</div>
	<ul class="{{ class }}_nav_list" aria-labelledby="{{ id }}">
		{% for link in links %}
			{% set link_icon = link.icon ?: icon ?: null %}
			{% set active = link.current or link.current_item_ancestor %}

			<li class="{{ link.classes|join(' ') }} {{ class }}_nav_item{% if link.children %} has_children{% endif %}{% if active %} active{% endif %}">
				<a class="{{ class }}_nav_link{% if active %} active{% endif %}" href="{{ link.url ?: '#' }}"{% if loop.current %} aria-current="page"{% endif %}{% if link.aria %} aria-label="{{ link.aria }}"{% endif %}>
					<div class="{{ class }}_nav_link_inner">
						{% if link_icon %}
							<span class="{{ class }}_nav_link_icon" aria-hidden="true">{{ icon(link_icon) }}</span>
						{% endif %}
						<span class="{{ class }}_nav_link_label">{{ link.title }}</span>
					</div>
				</a>
				{% if link.children %}
					<ul class="{{ class }}_nav_children" aria-label="{{ link.title }}">
						{% for child in link.children %}
							<li class="{{ child.classes|join(' ') }} {{ class }}_nav_child_item">
								<a class="{{ class }}_nav_child_link" href="{{ child.url }}">
									<div class="{{ class }}_nav_child_link_inner">
										{% if child_icon %}
											<span class="{{ class }}_nav_child_link_icon" aria-hidden="true">{{ icon(child_icon) }}</span>
										{% endif %}
										<span class="{{ class }}_nav_child_link_label">{{ child.title ?: child }}</span>
									</div>
								</a>
							</li>
						{% endfor %}
					</ul>
				{% endif %}
			</li>
		{% endfor %}
	</ul>
</nav>